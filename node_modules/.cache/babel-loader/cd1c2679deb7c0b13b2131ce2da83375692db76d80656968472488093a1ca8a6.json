{"ast":null,"code":"import { resolveComponent as _resolveComponent, withKeys as _withKeys, createVNode as _createVNode, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createTextVNode as _createTextVNode, vShow as _vShow, withDirectives as _withDirectives, resolveDirective as _resolveDirective, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"app-container\"\n};\nconst _hoisted_2 = {\n  \"slot-scope\": \"scope\"\n};\nconst _hoisted_3 = {\n  \"slot-scope\": \"scope\"\n};\nconst _hoisted_4 = {\n  \"slot-scope\": \"scope\"\n};\nconst _hoisted_5 = {\n  slot: \"footer\",\n  class: \"dialog-footer\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_option = _resolveComponent(\"el-option\");\n  const _component_el_select = _resolveComponent(\"el-select\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_col = _resolveComponent(\"el-col\");\n  const _component_right_toolbar = _resolveComponent(\"right-toolbar\");\n  const _component_el_row = _resolveComponent(\"el-row\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_dict_tag = _resolveComponent(\"dict-tag\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_treeselect = _resolveComponent(\"treeselect\");\n  const _component_el_input_number = _resolveComponent(\"el-input-number\");\n  const _component_el_radio = _resolveComponent(\"el-radio\");\n  const _component_el_radio_group = _resolveComponent(\"el-radio-group\");\n  const _component_el_dialog = _resolveComponent(\"el-dialog\");\n  const _directive_hasPermi = _resolveDirective(\"hasPermi\");\n  const _directive_loading = _resolveDirective(\"loading\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_withDirectives(_createVNode(_component_el_form, {\n    model: $data.queryParams,\n    ref: \"queryForm\",\n    size: \"small\",\n    inline: true\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_form_item, {\n      label: \"部门名称\",\n      prop: \"deptName\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $data.queryParams.deptName,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.queryParams.deptName = $event),\n        placeholder: \"请输入部门名称\",\n        clearable: \"\",\n        onKeyup: _withKeys($options.handleQuery, [\"enter\", \"native\"])\n      }, null, 8 /* PROPS */, [\"modelValue\", \"onKeyup\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, {\n      label: \"状态\",\n      prop: \"status\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_select, {\n        modelValue: $data.queryParams.status,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.queryParams.status = $event),\n        placeholder: \"部门状态\",\n        clearable: \"\"\n      }, {\n        default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.dict.type.sys_normal_disable, dict => {\n          return _openBlock(), _createBlock(_component_el_option, {\n            key: dict.value,\n            label: dict.label,\n            value: dict.value\n          }, null, 8 /* PROPS */, [\"label\", \"value\"]);\n        }), 128 /* KEYED_FRAGMENT */))]),\n\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_button, {\n        type: \"primary\",\n        icon: \"el-icon-search\",\n        size: \"mini\",\n        onClick: $options.handleQuery\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"搜索\")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_el_button, {\n        icon: \"el-icon-refresh\",\n        size: \"mini\",\n        onClick: $options.resetQuery\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"重置\")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"])]),\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"model\"]), [[_vShow, $data.showSearch]]), _createVNode(_component_el_row, {\n    gutter: 10,\n    class: \"mb8\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_col, {\n      span: 1.5\n    }, {\n      default: _withCtx(() => [_withDirectives((_openBlock(), _createBlock(_component_el_button, {\n        type: \"primary\",\n        plain: \"\",\n        icon: \"el-icon-plus\",\n        size: \"mini\",\n        onClick: $options.handleAdd\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"新增\")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"])), [[_directive_hasPermi, ['system:dept:add']]])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_col, {\n      span: 1.5\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_button, {\n        type: \"info\",\n        plain: \"\",\n        icon: \"el-icon-sort\",\n        size: \"mini\",\n        onClick: $options.toggleExpandAll\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"展开/折叠\")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_right_toolbar, {\n      showSearch: $data.showSearch,\n      onQueryTable: $options.getList\n    }, null, 8 /* PROPS */, [\"showSearch\", \"onQueryTable\"])]),\n    _: 1 /* STABLE */\n  }), $data.refreshTable ? _withDirectives((_openBlock(), _createBlock(_component_el_table, {\n    key: 0,\n    data: $data.deptList,\n    \"row-key\": \"deptId\",\n    \"default-expand-all\": $data.isExpandAll,\n    \"tree-props\": {\n      children: 'children',\n      hasChildren: 'hasChildren'\n    }\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_table_column, {\n      prop: \"deptName\",\n      label: \"部门名称\",\n      width: \"260\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"orderNum\",\n      label: \"排序\",\n      width: \"200\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"status\",\n      label: \"状态\",\n      width: \"100\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"template\", _hoisted_2, [_createVNode(_component_dict_tag, {\n        options: _ctx.dict.type.sys_normal_disable,\n        value: _ctx.scope.row.status\n      }, null, 8 /* PROPS */, [\"options\", \"value\"])])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_table_column, {\n      label: \"创建时间\",\n      align: \"center\",\n      prop: \"createTime\",\n      width: \"200\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"template\", _hoisted_3, [_createElementVNode(\"span\", null, _toDisplayString(_ctx.parseTime(_ctx.scope.row.createTime)), 1 /* TEXT */)])]),\n\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_table_column, {\n      label: \"操作\",\n      align: \"center\",\n      \"class-name\": \"small-padding fixed-width\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"template\", _hoisted_4, [_withDirectives((_openBlock(), _createBlock(_component_el_button, {\n        size: \"mini\",\n        type: \"text\",\n        icon: \"el-icon-edit\",\n        onClick: _cache[2] || (_cache[2] = $event => $options.handleUpdate(_ctx.scope.row))\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"修改\")]),\n        _: 1 /* STABLE */\n      })), [[_directive_hasPermi, ['system:dept:edit']]]), _withDirectives((_openBlock(), _createBlock(_component_el_button, {\n        size: \"mini\",\n        type: \"text\",\n        icon: \"el-icon-plus\",\n        onClick: _cache[3] || (_cache[3] = $event => $options.handleAdd(_ctx.scope.row))\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"新增\")]),\n        _: 1 /* STABLE */\n      })), [[_directive_hasPermi, ['system:dept:add']]]), _ctx.scope.row.parentId != 0 ? _withDirectives((_openBlock(), _createBlock(_component_el_button, {\n        key: 0,\n        size: \"mini\",\n        type: \"text\",\n        icon: \"el-icon-delete\",\n        onClick: _cache[4] || (_cache[4] = $event => $options.handleDelete(_ctx.scope.row))\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"删除\")]),\n        _: 1 /* STABLE */\n      })), [[_directive_hasPermi, ['system:dept:remove']]]) : _createCommentVNode(\"v-if\", true)])]),\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"data\", \"default-expand-all\"])), [[_directive_loading, $data.loading]]) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 添加或修改部门对话框 \"), _createVNode(_component_el_dialog, {\n    title: $data.title,\n    visible: $data.open,\n    width: \"600px\",\n    \"append-to-body\": \"\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_form, {\n      ref: \"form\",\n      model: $data.form,\n      rules: $data.rules,\n      \"label-width\": \"80px\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_row, null, {\n        default: _withCtx(() => [$data.form.parentId !== 0 ? (_openBlock(), _createBlock(_component_el_col, {\n          key: 0,\n          span: 24\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            label: \"上级部门\",\n            prop: \"parentId\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_treeselect, {\n              modelValue: $data.form.parentId,\n              \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.form.parentId = $event),\n              options: $data.deptOptions,\n              normalizer: $options.normalizer,\n              placeholder: \"选择上级部门\"\n            }, null, 8 /* PROPS */, [\"modelValue\", \"options\", \"normalizer\"])]),\n            _: 1 /* STABLE */\n          })]),\n\n          _: 1 /* STABLE */\n        })) : _createCommentVNode(\"v-if\", true)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_row, null, {\n        default: _withCtx(() => [_createVNode(_component_el_col, {\n          span: 12\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            label: \"部门名称\",\n            prop: \"deptName\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $data.form.deptName,\n              \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.form.deptName = $event),\n              placeholder: \"请输入部门名称\"\n            }, null, 8 /* PROPS */, [\"modelValue\"])]),\n            _: 1 /* STABLE */\n          })]),\n\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_col, {\n          span: 12\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            label: \"显示排序\",\n            prop: \"orderNum\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input_number, {\n              modelValue: $data.form.orderNum,\n              \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.form.orderNum = $event),\n              \"controls-position\": \"right\",\n              min: 0\n            }, null, 8 /* PROPS */, [\"modelValue\"])]),\n            _: 1 /* STABLE */\n          })]),\n\n          _: 1 /* STABLE */\n        })]),\n\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_row, null, {\n        default: _withCtx(() => [_createVNode(_component_el_col, {\n          span: 12\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            label: \"负责人\",\n            prop: \"leader\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $data.form.leader,\n              \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.form.leader = $event),\n              placeholder: \"请输入负责人\",\n              maxlength: \"20\"\n            }, null, 8 /* PROPS */, [\"modelValue\"])]),\n            _: 1 /* STABLE */\n          })]),\n\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_col, {\n          span: 12\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            label: \"联系电话\",\n            prop: \"phone\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $data.form.phone,\n              \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.form.phone = $event),\n              placeholder: \"请输入联系电话\",\n              maxlength: \"11\"\n            }, null, 8 /* PROPS */, [\"modelValue\"])]),\n            _: 1 /* STABLE */\n          })]),\n\n          _: 1 /* STABLE */\n        })]),\n\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_row, null, {\n        default: _withCtx(() => [_createVNode(_component_el_col, {\n          span: 12\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            label: \"邮箱\",\n            prop: \"email\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $data.form.email,\n              \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $data.form.email = $event),\n              placeholder: \"请输入邮箱\",\n              maxlength: \"50\"\n            }, null, 8 /* PROPS */, [\"modelValue\"])]),\n            _: 1 /* STABLE */\n          })]),\n\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_col, {\n          span: 12\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            label: \"部门状态\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_radio_group, {\n              modelValue: $data.form.status,\n              \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $data.form.status = $event)\n            }, {\n              default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.dict.type.sys_normal_disable, dict => {\n                return _openBlock(), _createBlock(_component_el_radio, {\n                  key: dict.value,\n                  label: dict.value\n                }, {\n                  default: _withCtx(() => [_createTextVNode(_toDisplayString(dict.label), 1 /* TEXT */)]),\n\n                  _: 2 /* DYNAMIC */\n                }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"label\"]);\n              }), 128 /* KEYED_FRAGMENT */))]),\n\n              _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"modelValue\"])]),\n            _: 1 /* STABLE */\n          })]),\n\n          _: 1 /* STABLE */\n        })]),\n\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"model\", \"rules\"]), _createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: $options.submitForm\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"确 定\")]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_el_button, {\n      onClick: $options.cancel\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"取 消\")]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onClick\"])])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"title\", \"visible\"])]);\n}","map":{"version":3,"names":["class","slot","_createElementBlock","_hoisted_1","_createVNode","_component_el_form","model","$data","queryParams","ref","size","inline","_component_el_form_item","label","prop","_component_el_input","deptName","$event","placeholder","clearable","onKeyup","_withKeys","$options","handleQuery","_component_el_select","status","_Fragment","_renderList","_ctx","dict","type","sys_normal_disable","_createBlock","_component_el_option","key","value","_component_el_button","icon","onClick","resetQuery","showSearch","_component_el_row","gutter","_component_el_col","span","plain","handleAdd","toggleExpandAll","_component_right_toolbar","onQueryTable","getList","refreshTable","_component_el_table","data","deptList","isExpandAll","children","hasChildren","_component_el_table_column","width","_createElementVNode","_hoisted_2","_component_dict_tag","options","scope","row","align","_hoisted_3","_toDisplayString","parseTime","createTime","_hoisted_4","_cache","handleUpdate","parentId","handleDelete","loading","_createCommentVNode","_component_el_dialog","title","visible","open","form","rules","_component_treeselect","deptOptions","normalizer","_component_el_input_number","orderNum","min","leader","maxlength","phone","email","_component_el_radio_group","_component_el_radio","_hoisted_5","submitForm","cancel"],"sources":["D:\\devprojects\\VsProjects\\Tobacco\\tobacco\\src\\views\\Inbound\\inbound\\index.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form :model=\"queryParams\" ref=\"queryForm\" size=\"small\" :inline=\"true\" v-show=\"showSearch\">\n      <el-form-item label=\"部门名称\" prop=\"deptName\">\n        <el-input\n          v-model=\"queryParams.deptName\"\n          placeholder=\"请输入部门名称\"\n          clearable\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n      <el-form-item label=\"状态\" prop=\"status\">\n        <el-select v-model=\"queryParams.status\" placeholder=\"部门状态\" clearable>\n          <el-option\n            v-for=\"dict in dict.type.sys_normal_disable\"\n            :key=\"dict.value\"\n            :label=\"dict.label\"\n            :value=\"dict.value\"\n          />\n        </el-select>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n      </el-form-item>\n    </el-form>\n\n    <el-row :gutter=\"10\" class=\"mb8\">\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"primary\"\n          plain\n          icon=\"el-icon-plus\"\n          size=\"mini\"\n          @click=\"handleAdd\"\n          v-hasPermi=\"['system:dept:add']\"\n        >新增</el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"info\"\n          plain\n          icon=\"el-icon-sort\"\n          size=\"mini\"\n          @click=\"toggleExpandAll\"\n        >展开/折叠</el-button>\n      </el-col>\n      <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\n    </el-row>\n\n    <el-table\n      v-if=\"refreshTable\"\n      v-loading=\"loading\"\n      :data=\"deptList\"\n      row-key=\"deptId\"\n      :default-expand-all=\"isExpandAll\"\n      :tree-props=\"{children: 'children', hasChildren: 'hasChildren'}\"\n    >\n      <el-table-column prop=\"deptName\" label=\"部门名称\" width=\"260\"></el-table-column>\n      <el-table-column prop=\"orderNum\" label=\"排序\" width=\"200\"></el-table-column>\n      <el-table-column prop=\"status\" label=\"状态\" width=\"100\">\n        <template slot-scope=\"scope\">\n          <dict-tag :options=\"dict.type.sys_normal_disable\" :value=\"scope.row.status\"/>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"创建时间\" align=\"center\" prop=\"createTime\" width=\"200\">\n        <template slot-scope=\"scope\">\n          <span>{{ parseTime(scope.row.createTime) }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-edit\"\n            @click=\"handleUpdate(scope.row)\"\n            v-hasPermi=\"['system:dept:edit']\"\n          >修改</el-button>\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-plus\"\n            @click=\"handleAdd(scope.row)\"\n            v-hasPermi=\"['system:dept:add']\"\n          >新增</el-button>\n          <el-button\n            v-if=\"scope.row.parentId != 0\"\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-delete\"\n            @click=\"handleDelete(scope.row)\"\n            v-hasPermi=\"['system:dept:remove']\"\n          >删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!-- 添加或修改部门对话框 -->\n    <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"600px\" append-to-body>\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\n        <el-row>\n          <el-col :span=\"24\" v-if=\"form.parentId !== 0\">\n            <el-form-item label=\"上级部门\" prop=\"parentId\">\n              <treeselect v-model=\"form.parentId\" :options=\"deptOptions\" :normalizer=\"normalizer\" placeholder=\"选择上级部门\" />\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"部门名称\" prop=\"deptName\">\n              <el-input v-model=\"form.deptName\" placeholder=\"请输入部门名称\" />\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"显示排序\" prop=\"orderNum\">\n              <el-input-number v-model=\"form.orderNum\" controls-position=\"right\" :min=\"0\" />\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"负责人\" prop=\"leader\">\n              <el-input v-model=\"form.leader\" placeholder=\"请输入负责人\" maxlength=\"20\" />\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"联系电话\" prop=\"phone\">\n              <el-input v-model=\"form.phone\" placeholder=\"请输入联系电话\" maxlength=\"11\" />\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"邮箱\" prop=\"email\">\n              <el-input v-model=\"form.email\" placeholder=\"请输入邮箱\" maxlength=\"50\" />\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"部门状态\">\n              <el-radio-group v-model=\"form.status\">\n                <el-radio\n                  v-for=\"dict in dict.type.sys_normal_disable\"\n                  :key=\"dict.value\"\n                  :label=\"dict.value\"\n                >{{dict.label}}</el-radio>\n              </el-radio-group>\n            </el-form-item>\n          </el-col>\n        </el-row>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\n        <el-button @click=\"cancel\">取 消</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { listDept, getDept, delDept, addDept, updateDept, listDeptExcludeChild } from \"@/api/inbound/inbound\";\nimport Treeselect from \"@riophae/vue-treeselect\";\nimport \"@riophae/vue-treeselect/dist/vue-treeselect.css\";\n\nexport default {\n  name: \"Dept\",\n  dicts: ['sys_normal_disable'],\n  components: { Treeselect },\n  data() {\n    return {\n      // 遮罩层\n      loading: true,\n      // 显示搜索条件\n      showSearch: true,\n      // 表格树数据\n      deptList: [],\n      // 部门树选项\n      deptOptions: [],\n      // 弹出层标题\n      title: \"\",\n      // 是否显示弹出层\n      open: false,\n      // 是否展开，默认全部展开\n      isExpandAll: true,\n      // 重新渲染表格状态\n      refreshTable: true,\n      // 查询参数\n      queryParams: {\n        deptName: undefined,\n        status: undefined\n      },\n      // 表单参数\n      form: {},\n      // 表单校验\n      rules: {\n        parentId: [\n          { required: true, message: \"上级部门不能为空\", trigger: \"blur\" }\n        ],\n        deptName: [\n          { required: true, message: \"部门名称不能为空\", trigger: \"blur\" }\n        ],\n        orderNum: [\n          { required: true, message: \"显示排序不能为空\", trigger: \"blur\" }\n        ],\n        email: [\n          {\n            type: \"email\",\n            message: \"请输入正确的邮箱地址\",\n            trigger: [\"blur\", \"change\"]\n          }\n        ],\n        phone: [\n          {\n            pattern: /^1[3|4|5|6|7|8|9][0-9]\\d{8}$/,\n            message: \"请输入正确的手机号码\",\n            trigger: \"blur\"\n          }\n        ]\n      }\n    };\n  },\n  created() {\n    this.getList();\n  },\n  methods: {\n    /** 查询部门列表 */\n    getList() {\n      this.loading = true;\n      listDept(this.queryParams).then(response => {\n        this.deptList = this.handleTree(response.data, \"deptId\");\n        this.loading = false;\n      });\n    },\n    /** 转换部门数据结构 */\n    normalizer(node) {\n      if (node.children && !node.children.length) {\n        delete node.children;\n      }\n      return {\n        id: node.deptId,\n        label: node.deptName,\n        children: node.children\n      };\n    },\n    // 取消按钮\n    cancel() {\n      this.open = false;\n      this.reset();\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        deptId: undefined,\n        parentId: undefined,\n        deptName: undefined,\n        orderNum: undefined,\n        leader: undefined,\n        phone: undefined,\n        email: undefined,\n        status: \"0\"\n      };\n      this.resetForm(\"form\");\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      this.getList();\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.resetForm(\"queryForm\");\n      this.handleQuery();\n    },\n    /** 新增按钮操作 */\n    handleAdd(row) {\n      this.reset();\n      if (row != undefined) {\n        this.form.parentId = row.deptId;\n      }\n      this.open = true;\n      this.title = \"添加部门\";\n      listDept().then(response => {\n        this.deptOptions = this.handleTree(response.data, \"deptId\");\n      });\n    },\n    /** 展开/折叠操作 */\n    toggleExpandAll() {\n      this.refreshTable = false;\n      this.isExpandAll = !this.isExpandAll;\n      this.$nextTick(() => {\n        this.refreshTable = true;\n      });\n    },\n    /** 修改按钮操作 */\n    handleUpdate(row) {\n      this.reset();\n      getDept(row.deptId).then(response => {\n        this.form = response.data;\n        this.open = true;\n        this.title = \"修改部门\";\n        listDeptExcludeChild(row.deptId).then(response => {\n          this.deptOptions = this.handleTree(response.data, \"deptId\");\n          if (this.deptOptions.length == 0) {\n            const noResultsOptions = { deptId: this.form.parentId, deptName: this.form.parentName, children: [] };\n            this.deptOptions.push(noResultsOptions);\n          }\n        });\n      });\n    },\n    /** 提交按钮 */\n    submitForm: function() {\n      this.$refs[\"form\"].validate(valid => {\n        if (valid) {\n          if (this.form.deptId != undefined) {\n            updateDept(this.form).then(response => {\n              this.$modal.msgSuccess(\"修改成功\");\n              this.open = false;\n              this.getList();\n            });\n          } else {\n            addDept(this.form).then(response => {\n              this.$modal.msgSuccess(\"新增成功\");\n              this.open = false;\n              this.getList();\n            });\n          }\n        }\n      });\n    },\n    /** 删除按钮操作 */\n    handleDelete(row) {\n      this.$modal.confirm('是否确认删除名称为\"' + row.deptName + '\"的数据项？').then(function() {\n        return delDept(row.deptId);\n      }).then(() => {\n        this.getList();\n        this.$modal.msgSuccess(\"删除成功\");\n      }).catch(() => {});\n    }\n  }\n};\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}