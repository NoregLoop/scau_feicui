{"ast":null,"code":"import store from '@/store';\nconst {\n  body\n} = document;\nconst WIDTH = 992; // refer to Bootstrap's responsive design\n\nexport default {\n  watch: {\n    $route(route) {\n      if (this.device === 'mobile' && this.sidebar.opened) {\n        store.dispatch('app/closeSideBar', {\n          withoutAnimation: false\n        });\n      }\n    }\n  },\n  beforeMount() {\n    window.addEventListener('resize', this.$_resizeHandler);\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.$_resizeHandler);\n  },\n  mounted() {\n    const isMobile = this.$_isMobile();\n    if (isMobile) {\n      store.dispatch('app/toggleDevice', 'mobile');\n      store.dispatch('app/closeSideBar', {\n        withoutAnimation: true\n      });\n    }\n  },\n  methods: {\n    // use $_ for mixins properties\n    // https://vuejs.org/v2/style-guide/index.html#Private-property-names-essential\n    $_isMobile() {\n      const rect = body.getBoundingClientRect();\n      return rect.width - 1 < WIDTH;\n    },\n    $_resizeHandler() {\n      if (!document.hidden) {\n        const isMobile = this.$_isMobile();\n        store.dispatch('app/toggleDevice', isMobile ? 'mobile' : 'desktop');\n        if (isMobile) {\n          store.dispatch('app/closeSideBar', {\n            withoutAnimation: true\n          });\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["store","body","document","WIDTH","watch","$route","route","device","sidebar","opened","dispatch","withoutAnimation","beforeMount","window","addEventListener","$_resizeHandler","beforeDestroy","removeEventListener","mounted","isMobile","$_isMobile","methods","rect","getBoundingClientRect","width","hidden"],"sources":["D:/devprojects/VsProjects/Tobacco/tobacco/src/layout/mixin/ResizeHandler.js"],"sourcesContent":["import store from '@/store'\r\n\r\nconst { body } = document\r\nconst WIDTH = 992 // refer to Bootstrap's responsive design\r\n\r\nexport default {\r\n  watch: {\r\n    $route(route) {\r\n      if (this.device === 'mobile' && this.sidebar.opened) {\r\n        store.dispatch('app/closeSideBar', { withoutAnimation: false })\r\n      }\r\n    }\r\n  },\r\n  beforeMount() {\r\n    window.addEventListener('resize', this.$_resizeHandler)\r\n  },\r\n  beforeDestroy() {\r\n    window.removeEventListener('resize', this.$_resizeHandler)\r\n  },\r\n  mounted() {\r\n    const isMobile = this.$_isMobile()\r\n    if (isMobile) {\r\n      store.dispatch('app/toggleDevice', 'mobile')\r\n      store.dispatch('app/closeSideBar', { withoutAnimation: true })\r\n    }\r\n  },\r\n  methods: {\r\n    // use $_ for mixins properties\r\n    // https://vuejs.org/v2/style-guide/index.html#Private-property-names-essential\r\n    $_isMobile() {\r\n      const rect = body.getBoundingClientRect()\r\n      return rect.width - 1 < WIDTH\r\n    },\r\n    $_resizeHandler() {\r\n      if (!document.hidden) {\r\n        const isMobile = this.$_isMobile()\r\n        store.dispatch('app/toggleDevice', isMobile ? 'mobile' : 'desktop')\r\n\r\n        if (isMobile) {\r\n          store.dispatch('app/closeSideBar', { withoutAnimation: true })\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,SAAS;AAE3B,MAAM;EAAEC;AAAK,CAAC,GAAGC,QAAQ;AACzB,MAAMC,KAAK,GAAG,GAAG,EAAC;;AAElB,eAAe;EACbC,KAAK,EAAE;IACLC,MAAMA,CAACC,KAAK,EAAE;MACZ,IAAI,IAAI,CAACC,MAAM,KAAK,QAAQ,IAAI,IAAI,CAACC,OAAO,CAACC,MAAM,EAAE;QACnDT,KAAK,CAACU,QAAQ,CAAC,kBAAkB,EAAE;UAAEC,gBAAgB,EAAE;QAAM,CAAC,CAAC;MACjE;IACF;EACF,CAAC;EACDC,WAAWA,CAAA,EAAG;IACZC,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACC,eAAe,CAAC;EACzD,CAAC;EACDC,aAAaA,CAAA,EAAG;IACdH,MAAM,CAACI,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAACF,eAAe,CAAC;EAC5D,CAAC;EACDG,OAAOA,CAAA,EAAG;IACR,MAAMC,QAAQ,GAAG,IAAI,CAACC,UAAU,CAAC,CAAC;IAClC,IAAID,QAAQ,EAAE;MACZnB,KAAK,CAACU,QAAQ,CAAC,kBAAkB,EAAE,QAAQ,CAAC;MAC5CV,KAAK,CAACU,QAAQ,CAAC,kBAAkB,EAAE;QAAEC,gBAAgB,EAAE;MAAK,CAAC,CAAC;IAChE;EACF,CAAC;EACDU,OAAO,EAAE;IACP;IACA;IACAD,UAAUA,CAAA,EAAG;MACX,MAAME,IAAI,GAAGrB,IAAI,CAACsB,qBAAqB,CAAC,CAAC;MACzC,OAAOD,IAAI,CAACE,KAAK,GAAG,CAAC,GAAGrB,KAAK;IAC/B,CAAC;IACDY,eAAeA,CAAA,EAAG;MAChB,IAAI,CAACb,QAAQ,CAACuB,MAAM,EAAE;QACpB,MAAMN,QAAQ,GAAG,IAAI,CAACC,UAAU,CAAC,CAAC;QAClCpB,KAAK,CAACU,QAAQ,CAAC,kBAAkB,EAAES,QAAQ,GAAG,QAAQ,GAAG,SAAS,CAAC;QAEnE,IAAIA,QAAQ,EAAE;UACZnB,KAAK,CAACU,QAAQ,CAAC,kBAAkB,EAAE;YAAEC,gBAAgB,EAAE;UAAK,CAAC,CAAC;QAChE;MACF;IACF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}