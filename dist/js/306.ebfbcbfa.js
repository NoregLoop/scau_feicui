"use strict";(self["webpackChunkERP"]=self["webpackChunkERP"]||[]).push([[306],{7881:function(e,t,a){a.d(t,{B7:function(){return m},Bc:function(){return s},G1:function(){return o},Us:function(){return p},fc:function(){return n},ji:function(){return d},ju:function(){return r},tE:function(){return u},tX:function(){return i}});var l=a(2334);function r(e){return(0,l.Z)({url:"/system/inboundOrder",headers:{isToken:!0},method:"post",data:e})}function n(){return(0,l.Z)({url:"/system/inboundType/list",headers:{isToken:!0},method:"get"})}function d(e,t,a,r,n){return(0,l.Z)({url:"/system/inboundOrder/list",headers:{isToken:!0},params:{pageNum:e,pageSize:t,orderCode:a,supplierId:r,desWarehouseId:n},method:"get"})}function o(){return(0,l.Z)({url:"/system/inboundOrder/getInboundOrderCode",headers:{isToken:!0},method:"get"})}function i(){return(0,l.Z)({url:"/system/jade/getJadeCode",headers:{isToken:!0},method:"get"})}function u(e){return(0,l.Z)({url:"/system/jade",headers:{isToken:!0},data:e,method:"post"})}function s(e){return(0,l.Z)({url:"/api/image/crop",headers:{isToken:!0},data:e,method:"post"})}function m(e){return(0,l.Z)({url:"/api/image/feature",headers:{isToken:!0},data:e,method:"post"})}function p(){return(0,l.Z)({url:"/system/jadeType/simplist",headers:{isToken:!0},method:"get"})}},3896:function(e,t,a){a.d(t,{Aq:function(){return r},Hc:function(){return m},KF:function(){return n},eB:function(){return s},jR:function(){return i},pN:function(){return u},qL:function(){return d},x0:function(){return o}});var l=a(2334);function r(){return(0,l.Z)({url:"/system/warehouse/list",headers:{isToken:!0},method:"get"})}function n(e){return(0,l.Z)({url:"/system/warehouse",headers:{isToken:!0},method:"post",data:e})}function d(e){return(0,l.Z)({url:"/system/warehouse",headers:{isToken:!0},method:"put",data:e})}function o(e){return(0,l.Z)({url:"/system/warehouse/"+e,headers:{isToken:!0},method:"delete"})}function i(){return(0,l.Z)({url:"/system/storage/list",headers:{isToken:!0},method:"get"})}function u(e){return(0,l.Z)({url:"/system/storage",headers:{isToken:!0},method:"post",data:e})}function s(e){return(0,l.Z)({url:"/system/storage/"+e,headers:{isToken:!0},method:"delete"})}function m(e){return(0,l.Z)({url:"/system/storage",headers:{isToken:!0},method:"put",data:e})}},2900:function(e,t,a){a.d(t,{GI:function(){return u},Nu:function(){return o},Qu:function(){return d},S6:function(){return s},ZF:function(){return n},cr:function(){return r},dt:function(){return i},eT:function(){return m}});var l=a(2334);function r(e,t){return(0,l.Z)({url:"/system/basicClient/list",headers:{isToken:!0},method:"get",params:{pageNum:e,pageSize:t}})}function n(e){return(0,l.Z)({url:"/system/basicClient",headers:{isToken:!0},method:"post",data:e})}function d(e){return(0,l.Z)({url:"/system/basicClient",headers:{isToken:!0},method:"put",data:e})}function o(e){return(0,l.Z)({url:"/system/basicClient/"+e,headers:{isToken:!0},method:"delete"})}function i(e,t){return(0,l.Z)({url:"/system/supplier/list",headers:{isToken:!0},method:"get",params:{pageNum:e,pageSize:t}})}function u(e){return(0,l.Z)({url:"/system/supplier",headers:{isToken:!0},method:"post",data:e})}function s(e){return(0,l.Z)({url:"/system/supplier",headers:{isToken:!0},method:"put",data:e})}function m(e){return(0,l.Z)({url:"/system/supplier/"+e,headers:{isToken:!0},method:"delete"})}},3306:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var l=a(3396),r=a(7139);const n=e=>((0,l.dD)("data-v-3e37ed18"),e=e(),(0,l.Cn)(),e),d={class:"front"},o={class:"tail"},i={class:"tail-action"},u=n((()=>(0,l._)("div",{class:"no-data"},"暂无数据",-1))),s={class:"pagination"},m={class:"dialog-list"};function p(e,t,a,n,p,c){const h=(0,l.up)("el-input"),f=(0,l.up)("el-form-item"),w=(0,l.up)("el-option"),b=(0,l.up)("el-select"),g=(0,l.up)("el-button"),k=(0,l.up)("el-form"),y=(0,l.up)("el-collapse-item"),W=(0,l.up)("el-collapse"),C=(0,l.up)("el-table-column"),_=(0,l.up)("el-checkbox"),v=(0,l.up)("el-checkbox-group"),T=(0,l.up)("el-popover"),U=(0,l.up)("el-table"),Z=(0,l.up)("el-pagination"),N=(0,l.up)("el-descriptions-item"),z=(0,l.up)("el-descriptions"),j=(0,l.up)("el-drawer");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",d,[(0,l.Wm)(W,{modelValue:e.activeNames,"onUpdate:modelValue":t[4]||(t[4]=t=>e.activeNames=t),class:"front-collapse",onChange:t[5]||(t[5]=t=>{e.activeNames=!e.activeNames,"收起"==e.collapseName?e.collapseName="展开":e.collapseName="收起"})},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{title:e.collapseName,class:"collapse-1",name:"1"},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{model:e.searchForm,"label-width":"120px"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{label:"入库单号",class:"front-input"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{modelValue:e.searchForm.orderCode,"onUpdate:modelValue":t[0]||(t[0]=t=>e.searchForm.orderCode=t)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(f,{label:"货品条码",class:"front-input"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{modelValue:e.searchForm.jadeCode,"onUpdate:modelValue":t[1]||(t[1]=t=>e.searchForm.jadeCode=t)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(f,{label:"所属仓库",class:"front-input"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{modelValue:e.searchForm.desWarehouseId,"onUpdate:modelValue":t[2]||(t[2]=t=>e.searchForm.desWarehouseId=t),placeholder:"搜索匹配",style:{}},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.warehouseList,(e=>((0,l.wg)(),(0,l.j4)(w,{key:e.id,label:e.warehouseName,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,l.Wm)(f,{label:"供应商",class:"front-input"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{modelValue:e.searchForm.supplierId,"onUpdate:modelValue":t[3]||(t[3]=t=>e.searchForm.supplierId=t),placeholder:"搜索匹配",style:{},prop:"supplierId"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.supplierList,(e=>((0,l.wg)(),(0,l.j4)(w,{key:e.id,label:e.supplierName,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[(0,l.Wm)(g,{type:"primary",onClick:e.onSearch},{default:(0,l.w5)((()=>[(0,l.Uk)("查询")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])),_:1},8,["title"])])),_:1},8,["modelValue"])]),(0,l._)("div",o,[(0,l._)("div",i,[(0,l.Wm)(g,{type:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)("导出明细")])),_:1}),(0,l.Wm)(g,{type:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)("打印入库单")])),_:1}),(0,l.Wm)(g,{type:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)("打印明细")])),_:1})]),(0,l.Wm)(U,{data:e.tableData(),border:"",style:{width:"100%"},"max-height":"收起"==e.collapseName?400:650},{empty:(0,l.w5)((()=>[u])),default:(0,l.w5)((()=>[(0,l.Wm)(C,{type:"selection",width:"40"}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.inboundDataColumn.data,(e=>((0,l.wg)(),(0,l.j4)(C,{prop:e.prop,"min-width":e.minWidth,width:e.width,"max-width":e.maxWidth,label:e.label},null,8,["prop","min-width","width","max-width","label"])))),256)),(0,l.Wm)(C,{width:"100px",fixed:"right"},{header:(0,l.w5)((()=>[(0,l.Wm)(T,{placement:"bottom",trigger:"click"},{reference:(0,l.w5)((()=>[(0,l.Wm)(g,{size:"small"},{default:(0,l.w5)((()=>[(0,l.Uk)("显示设置")])),_:1})])),default:(0,l.w5)((()=>[(0,l.Wm)(v,{modelValue:e.selectedFilters.data,"onUpdate:modelValue":t[6]||(t[6]=t=>e.selectedFilters.data=t)},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.tableFilter.data,(t=>((0,l.wg)(),(0,l.j4)(_,{label:t.label,onChange:e.filterColumns,disabled:t.isdisabled},null,8,["label","onChange","disabled"])))),256))])),_:1},8,["modelValue"])])),_:1})])),default:(0,l.w5)((t=>[(0,l.Wm)(g,{link:"",type:"primary",size:"small",onClick:a=>e.openDetails(t.row)},{default:(0,l.w5)((()=>[(0,l.Uk)("查看明细")])),_:2},1032,["onClick"]),(0,l.Wm)(g,{link:"",type:"primary",size:"small"},{default:(0,l.w5)((()=>[(0,l.Uk)("编辑备注")])),_:1})])),_:1})])),_:1},8,["data","max-height"]),(0,l._)("div",s,[(0,l.Wm)(Z,{"current-page":e.data.page,"onUpdate:currentPage":t[7]||(t[7]=t=>e.data.page=t),"page-size":e.data.limit,"onUpdate:pageSize":t[8]||(t[8]=t=>e.data.limit=t),layout:"prev, pager, next ,total,sizes",total:e.data.total,"onUpdate:total":t[9]||(t[9]=t=>e.data.total=t),onCurrentChange:e.handleCurrentChange,onSizeChange:e.handleSizeChange},null,8,["current-page","page-size","total","onCurrentChange","onSizeChange"])])]),(0,l._)("div",m,[(0,l._)("div",null,[(0,l.Wm)(j,{modelValue:e.drawer,"onUpdate:modelValue":t[10]||(t[10]=t=>e.drawer=t),direction:e.direction,size:"35%"},{default:(0,l.w5)((()=>[(0,l.Wm)(z,{border:"",size:"large",direction:"vertical",title:"入库单详情"},{default:(0,l.w5)((()=>[(0,l.Wm)(N,{label:"入库单号"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.rowDetails.orderCode),1)])),_:1}),(0,l.Wm)(N,{label:"数量"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.rowDetails.jadeWeight),1)])),_:1}),(0,l.Wm)(N,{label:"供应商",width:"150"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.rowDetails.supplierName),1)])),_:1}),(0,l.Wm)(N,{label:"客户名字"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.rowDetails.clientName),1)])),_:1}),(0,l.Wm)(N,{label:"仓位名字",width:"150"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.rowDetails.storageName),1)])),_:1}),(0,l.Wm)(N,{label:"仓库名字"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.rowDetails.warehouseName),1)])),_:1}),(0,l.Wm)(N,{label:"入库时间"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.rowDetails.createTime),1)])),_:1}),(0,l.Wm)(N,{label:"添加人"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.rowDetails.createBy),1)])),_:1}),(0,l.Wm)(N,{label:"修改时间"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.rowDetails.updateTime),1)])),_:1}),(0,l.Wm)(N,{label:"修改人"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.rowDetails.updateBy),1)])),_:1})])),_:1})])),_:1},8,["modelValue","direction"])])])],64)}a(7658);var c=a(4870),h=a(7881),f=a(3896),w=a(2900),b=(a(1836),(0,l.aZ)({name:"HomeView",components:{},setup(){const e=(0,c.iH)({}),t=(0,c.iH)(!1),a=(0,c.qj)({jadeCode:"",orderCode:"",desWarehouseId:"",supplierId:"",data:[],count:0}),r=(0,c.qj)({data:[]}),n=(0,c.qj)({data:[]}),d=(0,c.qj)({data:[]}),o=(0,c.iH)([]),i=(0,c.iH)([]),u=(0,c.qj)({data:[{label:"入库单单号",prop:"orderCode",width:"200",isdisabled:!0,isSelected:!0},{label:"数量",prop:"jadeWeight",width:"60",isSelected:!0},{label:"总成本价",prop:"jadeCost",width:"90",isSelected:!0},{label:"供应商",prop:"supplierName",width:"70",isSelected:!0},{label:"客户名字",prop:"clientName",width:"90",isSelected:!0},{label:"入库仓库",prop:"warehouseName",width:"90",isSelected:!0},{label:"入库仓位",prop:"storageName",width:"90",isSelected:!0},{label:"入库类型",prop:"inboundTypeName",width:"90",isdisabled:!0,isSelected:!0},{label:"入库人员",prop:"inboundPeople",width:"90",isdisabled:!0,isSelected:!0},{label:"入库时间",prop:"createTime",minWidth:"100",isdisabled:!0,isSelected:!0},{label:"备注",prop:"remark",minWidth:"80",isSelected:!0}]}),s=(0,c.iH)("展开"),m=(0,c.iH)(!1),p=(0,c.qj)({data:{page:1,limit:10,total:r.data.length}}),b=()=>r.data,g=e=>{p.data.page=e,y(e,p.data.limit)},k=e=>{p.data.limit=e,y(p.data.page,e)},y=(e,t)=>{(0,h.ji)(e,t).then((e=>{r.data=e.rows,p.data.total=e.total}))};(0,l.wF)((()=>{(0,w.dt)().then((e=>{o.value=e.rows})),(0,f.Aq)().then((e=>{i.value=e.rows})),y(p.data.page,p.data.limit)})),(0,l.bv)((()=>{u.data.forEach((function(e,t){e.isSelected&&(n.data.push(e.label),d.data.push(e))}))}));const W=()=>{(0,h.ji)(p.data.page,p.data.limit,a.orderCode,a.supplierId,a.desWarehouseId).then((e=>{r.data=e.rows,p.data.total=e.total}))},C=a=>{t.value=!0,e.value=a},_=()=>{let e=[];u.data.forEach((t=>{n.data.forEach((a=>{t.label==a&&e.push(t)}))})),d.data=e};return{inboundOrderData:r,searchForm:a,rowDetails:e,drawer:t,collapseName:s,warehouseList:i,supplierList:o,activeNames:m,inboundDataColumn:d,selectedFilters:n,tableFilter:u,tableData:b,filterColumns:_,openDetails:C,handleCurrentChange:g,handleSizeChange:k,handleGetInboundOrderList:y,onSearch:W,...(0,c.BK)(p)}}})),g=a(89);const k=(0,g.Z)(b,[["render",p],["__scopeId","data-v-3e37ed18"]]);var y=k}}]);
//# sourceMappingURL=306.ebfbcbfa.js.map