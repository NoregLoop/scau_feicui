{"version":3,"file":"js/390.9ce19887.js","mappings":"mLACSA,MAAM,S,GAEPC,EAAAA,EAAAA,GAAkC,MAA9BD,MAAM,SAAQ,eAAW,G,uBA+D/BC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,mBAAiB,EAC1BC,EAAAA,EAAAA,GAAiE,YAA3D,0DAAoD,G,uKAlE9DC,EAAAA,EAAAA,IAoEM,MApENC,EAoEM,EAnEJC,EAAAA,EAAAA,IA8DUC,EAAA,CA9DDC,IAAI,YAAaC,MAAOC,EAAAC,UAAYC,MAAOF,EAAAG,WAAYX,MAAM,c,mBACpE,IAAkC,CAAlCY,GACAR,EAAAA,EAAAA,IASeS,EAAA,CATDC,KAAK,YAAU,C,kBAC3B,IAOW,EAPXV,EAAAA,EAAAA,IAOWW,EAAA,C,WANAP,EAAAC,UAAUO,S,qCAAVR,EAAAC,UAAUO,SAAQC,GAC3BC,KAAK,OACL,gBAAc,MACdC,YAAY,M,mBAEZ,IAA8E,EAA9Ef,EAAAA,EAAAA,IAA8EgB,EAAA,CAApEC,KAAK,SAAS,aAAW,OAAOrB,MAAM,iC,iCAGpDI,EAAAA,EAAAA,IAUeS,EAAA,CAVDC,KAAK,YAAU,C,kBAC3B,IAQW,EARXV,EAAAA,EAAAA,IAQWW,EAAA,C,WAPAP,EAAAC,UAAUa,S,qCAAVd,EAAAC,UAAUa,SAAQL,GAC3BC,KAAK,WACL,gBAAc,MACdC,YAAY,KACXI,SAAKC,EAAAA,EAAAA,IAAeC,EAAAC,YAAW,qB,mBAEhC,IAAkF,EAAlFtB,EAAAA,EAAAA,IAAkFgB,EAAA,CAAxEC,KAAK,SAAS,aAAW,WAAWrB,MAAM,iC,2CAGxDI,EAAAA,EAAAA,IAUeS,EAAA,CAVDC,KAAK,SAAO,C,kBACxB,IAQW,EARXV,EAAAA,EAAAA,IAQWW,EAAA,C,WAPAP,EAAAC,UAAUkB,M,qCAAVnB,EAAAC,UAAUkB,MAAKV,GACxBC,KAAK,OACL,gBAAc,MACdC,YAAY,MACXI,QAAKK,EAAA,KAAAA,EAAA,IAAAJ,EAAAA,EAAAA,KAAN,QAAsB,sB,mBAEtB,IAAkF,EAAlFpB,EAAAA,EAAAA,IAAkFgB,EAAA,CAAxEC,KAAK,SAAS,aAAW,WAAWrB,MAAM,iC,iCAkBxDI,EAAAA,EAAAA,IAYeS,EAAA,CAZDgB,MAAA,gBAAmB,C,kBAC/B,IASY,EATZzB,EAAAA,EAAAA,IASY0B,EAAA,CARTC,QAASvB,EAAAuB,QACVC,KAAK,SACLd,KAAK,UACLW,MAAA,eACCI,SAAKC,EAAAA,EAAAA,IAAiBT,EAAAC,YAAW,c,mBAElC,IAAgC,CAAnBlB,EAAAuB,UAAY,WACzB7B,EAAAA,EAAAA,IAA4B,OAAAiC,EAAf,eADO,WAApBjC,EAAAA,EAAAA,IAAgC,OAAAkC,EAAV,W,oEAO5BC,G,0CAYJ,GACEC,KAAM,QACNC,OACE,MAAO,CACLC,QAAS,GACT/B,UAAW,CACTO,SAAU,GACVM,SAAU,GACVK,MAAM,GACNc,YAAY,EACZC,KAAM,GACNC,KAAM,IAERhC,WAAY,CACVK,SAAU,CACR,CAAE4B,UAAU,EAAMC,QAAS,OAAQC,QAAS,YAE9CxB,SAAU,CACR,CAAEsB,UAAU,EAAMC,QAAS,OAAQC,QAAS,YAE9CJ,KAAM,CAAC,CAAEE,UAAU,EAAMC,QAAS,SAAUC,QAAS,YAEvDf,SAAS,EAETgB,gBAAgB,EAEhBC,cAAUC,EAEd,EACAC,MAAO,CACLC,OAAQ,CACNC,QAAS,SAASC,GAChBC,KAAKN,SAAWK,EAAME,OAASF,EAAME,MAAMP,QAC7C,EACAQ,WAAW,IAGfC,UAEE,EAEFC,QAAS,CACPC,WACEC,EAAAA,EAAAA,MAAaC,MAAKC,IAChBR,KAAKP,oBAAwCE,IAAvBa,EAAIf,gBAAsCe,EAAIf,eAChEO,KAAKP,iBACPO,KAAKd,QAAU,yBAA2BsB,EAAIC,IAC9CT,KAAK7C,UAAUkC,KAAOmB,EAAInB,KAC5B,GAEJ,EACAqB,YACE,MAAMhD,EAAWiD,EAAAA,EAAAA,IAAY,YACvB3C,EAAW2C,EAAAA,EAAAA,IAAY,YACvBxB,EAAawB,EAAAA,EAAAA,IAAY,cAC/BX,KAAK7C,UAAY,CACfO,cAAuBiC,IAAbjC,EAAyBsC,KAAK7C,UAAUO,SAAWA,EAC7DM,cAAuB2B,IAAb3B,EAAyBgC,KAAK7C,UAAUa,UAAW4C,EAAAA,EAAAA,GAAQ5C,GACrEmB,gBAA2BQ,IAAfR,GAAmC0B,QAAQ1B,GAE3D,EACAf,cACE4B,KAAKc,MAAM3D,UAAU4D,UAASC,IACxBA,IACFhB,KAAKvB,SAAU,EACXuB,KAAK7C,UAAUgC,YACjBwB,EAAAA,EAAAA,IAAY,WAAYX,KAAK7C,UAAUO,SAAU,CAAEuD,QAAS,KAC5DN,EAAAA,EAAAA,IAAY,YAAYO,EAAAA,EAAAA,GAAQlB,KAAK7C,UAAUa,UAAW,CAAEiD,QAAS,KACrEN,EAAAA,EAAAA,IAAY,aAAcX,KAAK7C,UAAUgC,WAAY,CAAE8B,QAAS,OAEhEN,EAAAA,EAAAA,OAAe,YACfA,EAAAA,EAAAA,OAAe,YACfA,EAAAA,EAAAA,OAAe,eAEjBX,KAAKmB,OAAOC,SAAS,QAASpB,KAAK7C,WAAWoD,MAAK,KACjDP,KAAKqB,QAAQC,KAAK,CAAEC,KAAMvB,KAAKN,UAAY,MAAO8B,OAAM,QAAO,IAC9DA,OAAM,KACPxB,KAAKvB,SAAU,EACXuB,KAAKP,gBACPO,KAAKK,SACP,IAEJ,GAEJ,I,QC3JN,MAAMoB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://ERP/./src/views/register.vue","webpack://ERP/./src/views/register.vue?1298"],"sourcesContent":["<template>\r\n    <div class=\"login\">\r\n      <el-form ref=\"loginForm\" :model=\"loginForm\" :rules=\"loginRules\" class=\"login-form\">\r\n        <h3 class=\"title\">SCAU翡翠ERP系统</h3>\r\n        <el-form-item prop=\"username\">\r\n          <el-input\r\n            v-model=\"loginForm.username\"\r\n            type=\"text\"\r\n            auto-complete=\"off\"\r\n            placeholder=\"账号\"\r\n          >\r\n            <svg-icon slot=\"prefix\" icon-class=\"user\" class=\"el-input__icon input-icon\" />\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"password\">\r\n          <el-input\r\n            v-model=\"loginForm.password\"\r\n            type=\"password\"\r\n            auto-complete=\"off\"\r\n            placeholder=\"密码\"\r\n            @keyup.enter.native=\"handleLogin\"\r\n          >\r\n            <svg-icon slot=\"prefix\" icon-class=\"password\" class=\"el-input__icon input-icon\" />\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"phone\">\r\n          <el-input\r\n            v-model=\"loginForm.phone\"\r\n            type=\"text\"\r\n            auto-complete=\"off\"\r\n            placeholder=\"手机号\"\r\n            @keyup.enter.native=\"\"\r\n          >\r\n            <svg-icon slot=\"prefix\" icon-class=\"password\" class=\"el-input__icon input-icon\" />\r\n          </el-input>\r\n        </el-form-item>\r\n        <!-- <el-form-item prop=\"code\" v-if=\"captchaEnabled\">\r\n          <el-input\r\n            v-model=\"loginForm.code\"\r\n            auto-complete=\"off\"\r\n            placeholder=\"验证码\"\r\n            style=\"width: 63%\"\r\n            @keyup.enter.native=\"handleLogin\"\r\n          >\r\n            <svg-icon slot=\"prefix\" icon-class=\"validCode\" class=\"el-input__icon input-icon\" />\r\n          </el-input>\r\n          <div class=\"login-code\">\r\n            <img :src=\"codeUrl\" @click=\"getCode\" class=\"login-code-img\"/>\r\n          </div>\r\n        </el-form-item> -->\r\n\r\n        <el-form-item style=\"width:100%;\">\r\n          <el-button\r\n            :loading=\"loading\"\r\n            size=\"medium\"\r\n            type=\"primary\"\r\n            style=\"width:100%;\"\r\n            @click.native.prevent=\"handleLogin\"\r\n          >\r\n            <span v-if=\"!loading\">注 册</span>\r\n            <span v-else>注 册 中...</span>\r\n          </el-button>\r\n\r\n        </el-form-item>\r\n      </el-form>\r\n      <!--  底部  -->\r\n      <div class=\"el-login-footer\">\r\n        <span>Copyright © 2018-2023 ruoyi.vip All Rights Reserved.</span>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import { getCodeImg } from \"@/api/login\";\r\n  import Cookies from \"js-cookie\";\r\n  import { encrypt, decrypt } from '@/utils/jsencrypt'\r\n\r\n  \r\n  export default {\r\n    name: \"Login\",\r\n    data() {\r\n      return {\r\n        codeUrl: \"\",\r\n        loginForm: {\r\n          username: \"\",\r\n          password: \"\",\r\n          phone:\"\",\r\n          rememberMe: false,\r\n          code: \"\",\r\n          uuid: \"\"\r\n        },\r\n        loginRules: {\r\n          username: [\r\n            { required: true, trigger: \"blur\", message: \"请输入您的账号\" }\r\n          ],\r\n          password: [\r\n            { required: true, trigger: \"blur\", message: \"请输入您的密码\" }\r\n          ],\r\n          code: [{ required: true, trigger: \"change\", message: \"请输入验证码\" }]\r\n        },\r\n        loading: false,\r\n        // 验证码开关\r\n        captchaEnabled: true,\r\n\r\n        redirect: undefined\r\n      };\r\n    },\r\n    watch: {\r\n      $route: {\r\n        handler: function(route) {\r\n          this.redirect = route.query && route.query.redirect;\r\n        },\r\n        immediate: true\r\n      }\r\n    },\r\n    created() {\r\n      // this.getCode();\r\n      // this.getCookie();\r\n    },\r\n    methods: {\r\n      getCode() {\r\n        getCodeImg().then(res => {\r\n          this.captchaEnabled = res.captchaEnabled === undefined ? true : res.captchaEnabled;\r\n          if (this.captchaEnabled) {\r\n            this.codeUrl = \"data:image/gif;base64,\" + res.img;\r\n            this.loginForm.uuid = res.uuid;\r\n          }\r\n        });\r\n      },\r\n      getCookie() {\r\n        const username = Cookies.get(\"username\");\r\n        const password = Cookies.get(\"password\");\r\n        const rememberMe = Cookies.get('rememberMe')\r\n        this.loginForm = {\r\n          username: username === undefined ? this.loginForm.username : username,\r\n          password: password === undefined ? this.loginForm.password : decrypt(password),\r\n          rememberMe: rememberMe === undefined ? false : Boolean(rememberMe)\r\n        };\r\n      },\r\n      handleLogin() {\r\n        this.$refs.loginForm.validate(valid => {\r\n          if (valid) {\r\n            this.loading = true;\r\n            if (this.loginForm.rememberMe) {\r\n              Cookies.set(\"username\", this.loginForm.username, { expires: 30 });\r\n              Cookies.set(\"password\", encrypt(this.loginForm.password), { expires: 30 });\r\n              Cookies.set('rememberMe', this.loginForm.rememberMe, { expires: 30 });\r\n            } else {\r\n              Cookies.remove(\"username\");\r\n              Cookies.remove(\"password\");\r\n              Cookies.remove('rememberMe');\r\n            }\r\n            this.$store.dispatch(\"Login\", this.loginForm).then(() => {\r\n              this.$router.push({ path: this.redirect || \"/\" }).catch(()=>{});\r\n            }).catch(() => {\r\n              this.loading = false;\r\n              if (this.captchaEnabled) {\r\n                this.getCode();\r\n              }\r\n            });\r\n          }\r\n        });\r\n      }\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style rel=\"stylesheet/scss\" lang=\"scss\">\r\n  .login {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 100%;\r\n    // background-image: url(\"../assets/images/login-background.jpg\");\r\n    background-size: cover;\r\n  }\r\n  .title {\r\n    margin: 0px auto 30px auto;\r\n    text-align: center;\r\n    color: #707070;\r\n  }\r\n  \r\n  .login-form {\r\n    border-radius: 6px;\r\n    background: #ffffff;\r\n    width: 400px;\r\n    padding: 25px 25px 5px 25px;\r\n    .el-input {\r\n      height: 38px;\r\n      input {\r\n        height: 38px;\r\n      }\r\n    }\r\n    .input-icon {\r\n      height: 39px;\r\n      width: 14px;\r\n      margin-left: 2px;\r\n    }\r\n  }\r\n  .login-tip {\r\n    font-size: 13px;\r\n    text-align: center;\r\n    color: #bfbfbf;\r\n  }\r\n  .login-code {\r\n    width: 33%;\r\n    height: 38px;\r\n    float: right;\r\n    img {\r\n      cursor: pointer;\r\n      vertical-align: middle;\r\n    }\r\n  }\r\n  .el-login-footer {\r\n    height: 40px;\r\n    line-height: 40px;\r\n    position: fixed;\r\n    bottom: 0;\r\n    width: 100%;\r\n    text-align: center;\r\n    color: #fff;\r\n    font-family: Arial;\r\n    font-size: 12px;\r\n    letter-spacing: 1px;\r\n  }\r\n  .login-code-img {\r\n    height: 38px;\r\n  }\r\n  </style>\r\n  ","import { render } from \"./register.vue?vue&type=template&id=73141e84\"\nimport script from \"./register.vue?vue&type=script&lang=js\"\nexport * from \"./register.vue?vue&type=script&lang=js\"\n\nimport \"./register.vue?vue&type=style&index=0&id=73141e84&rel=stylesheet%2Fscss&lang=scss\"\n\nimport exportComponent from \"D:\\\\devprojects\\\\VsProjects\\\\Tobacco\\\\scau-feicui\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_createVNode","_component_el_form","ref","model","$data","loginForm","rules","loginRules","_hoisted_2","_component_el_form_item","prop","_component_el_input","username","$event","type","placeholder","_component_svg_icon","slot","password","onKeyup","_withKeys","$options","handleLogin","phone","_cache","style","_component_el_button","loading","size","onClick","_withModifiers","_hoisted_4","_hoisted_3","_hoisted_5","name","data","codeUrl","rememberMe","code","uuid","required","trigger","message","captchaEnabled","redirect","undefined","watch","$route","handler","route","this","query","immediate","created","methods","getCode","getCodeImg","then","res","img","getCookie","Cookies","decrypt","Boolean","$refs","validate","valid","expires","encrypt","$store","dispatch","$router","push","path","catch","__exports__","render"],"sourceRoot":""}