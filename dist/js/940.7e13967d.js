"use strict";(self["webpackChunkERP"]=self["webpackChunkERP"]||[]).push([[940],{2900:function(e,l,a){a.d(l,{GI:function(){return n},Nu:function(){return i},Qu:function(){return u},S6:function(){return p},ZF:function(){return o},cr:function(){return r},dt:function(){return d},eT:function(){return m}});var t=a(2334);function r(e,l){return(0,t.Z)({url:"/system/basicClient/list",headers:{isToken:!0},method:"get",params:{pageNum:e,pageSize:l}})}function o(e){return(0,t.Z)({url:"/system/basicClient",headers:{isToken:!0},method:"post",data:e})}function u(e){return(0,t.Z)({url:"/system/basicClient",headers:{isToken:!0},method:"put",data:e})}function i(e){return(0,t.Z)({url:"/system/basicClient/"+e,headers:{isToken:!0},method:"delete"})}function d(e,l){return(0,t.Z)({url:"/system/supplier/list",headers:{isToken:!0},method:"get",params:{pageNum:e,pageSize:l}})}function n(e){return(0,t.Z)({url:"/system/supplier",headers:{isToken:!0},method:"post",data:e})}function p(e){return(0,t.Z)({url:"/system/supplier",headers:{isToken:!0},method:"put",data:e})}function m(e){return(0,t.Z)({url:"/system/supplier/"+e,headers:{isToken:!0},method:"delete"})}},6172:function(e,l,a){a.r(l),a.d(l,{default:function(){return w}});var t=a(3396);const r={class:"front"},o={class:"tail"},u={class:"tail-action"},i={class:"pagination"},d={class:"dialog-list"},n={class:"dialog-footer"},p={class:"dialog-footer"};function m(e,l,a,m,s,c){const h=(0,t.up)("el-input"),f=(0,t.up)("el-form-item"),b=(0,t.up)("el-form"),g=(0,t.up)("el-button"),V=(0,t.up)("el-table-column"),w=(0,t.up)("el-table"),W=(0,t.up)("el-pagination"),k=(0,t.up)("el-dialog");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",r,[(0,t.Wm)(b,{model:e.searchForm,"label-width":"120px"},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{class:"input",label:"供应商名字"},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{modelValue:e.searchForm.name,"onUpdate:modelValue":l[0]||(l[0]=l=>e.searchForm.name=l)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"]),(0,t.Wm)(g,{class:"search",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("查询")])),_:1})]),(0,t._)("div",o,[(0,t._)("div",u,[(0,t.Wm)(g,{type:"primary",onClick:l[1]||(l[1]=l=>e.dialogVisible1=!0)},{default:(0,t.w5)((()=>[(0,t.Uk)("新增供应商")])),_:1})]),(0,t.Wm)(w,{data:e.tableData(),border:"",style:{width:"100%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{prop:"supplierCode",label:"供应商编码","min-width":"60"}),(0,t.Wm)(V,{prop:"supplierName",label:"供应商名称","min-width":"60"}),(0,t.Wm)(V,{prop:"contactPerson",label:"联系人","min-width":"60"}),(0,t.Wm)(V,{prop:"bankAccountName",label:"账户名","min-width":"60"}),(0,t.Wm)(V,{prop:"bankAccount",label:"账户账号","min-width":"60"}),(0,t.Wm)(V,{prop:"address",label:"地址","min-width":"60"}),(0,t.Wm)(V,{prop:"telephone",label:"手机号","min-width":"60"}),(0,t.Wm)(V,{prop:"createTime",label:"创建时间","min-width":"60"}),(0,t.Wm)(V,{prop:"remark",label:"备注","min-width":"60"}),(0,t.Wm)(V,{fixed:"right",label:"Operations","min-width":"60"},{default:(0,t.w5)((l=>[(0,t.Wm)(g,{link:"",type:"primary",size:"small",onClick:a=>e.handleOpenEdit(l.row)},{default:(0,t.w5)((()=>[(0,t.Uk)("编辑")])),_:2},1032,["onClick"]),(0,t.Wm)(g,{link:"",type:"primary",size:"small",onClick:a=>e.handleDeleteRole(l.row.id)},{default:(0,t.w5)((()=>[(0,t.Uk)("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,t._)("div",i,[(0,t.Wm)(W,{"current-page":e.data.page,"onUpdate:currentPage":l[2]||(l[2]=l=>e.data.page=l),"page-size":e.data.limit,"onUpdate:pageSize":l[3]||(l[3]=l=>e.data.limit=l),layout:"prev, pager, next ,total,sizes",total:e.data.total,onCurrentChange:e.handleCurrentChange,onSizeChange:e.handleSizeChange},null,8,["current-page","page-size","total","onCurrentChange","onSizeChange"])])]),(0,t._)("div",d,[(0,t.Wm)(k,{modelValue:e.dialogVisible1,"onUpdate:modelValue":l[13]||(l[13]=l=>e.dialogVisible1=l),title:"新建供应商",width:"30%","close-on-click-modal":!0,"show-close":!1},{footer:(0,t.w5)((()=>[(0,t._)("span",n,[(0,t.Wm)(g,{onClick:l[12]||(l[12]=l=>e.dialogVisible1=!1)},{default:(0,t.w5)((()=>[(0,t.Uk)("取消")])),_:1}),(0,t.Wm)(g,{type:"primary",onClick:e.handleAddSupplier},{default:(0,t.w5)((()=>[(0,t.Uk)(" 确认 ")])),_:1},8,["onClick"])])])),default:(0,t.w5)((()=>[(0,t._)("div",null,[(0,t.Wm)(b,{model:e.supplierForm,"label-width":"120px",rules:e.supplierRules},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{label:"供应商编码",prop:"supplierCode",required:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{modelValue:e.supplierForm.supplierCode,"onUpdate:modelValue":l[4]||(l[4]=l=>e.supplierForm.supplierCode=l)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(f,{label:"供应商名字",prop:"supplierName",required:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{modelValue:e.supplierForm.supplierName,"onUpdate:modelValue":l[5]||(l[5]=l=>e.supplierForm.supplierName=l)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(f,{label:"备注",required:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{modelValue:e.supplierForm.remark,"onUpdate:modelValue":l[6]||(l[6]=l=>e.supplierForm.remark=l)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(f,{label:"手机号",required:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{modelValue:e.supplierForm.telephone,"onUpdate:modelValue":l[7]||(l[7]=l=>e.supplierForm.telephone=l)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(f,{label:"联系人",required:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{modelValue:e.supplierForm.contactPerson,"onUpdate:modelValue":l[8]||(l[8]=l=>e.supplierForm.contactPerson=l)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(f,{label:"账户名",required:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{modelValue:e.supplierForm.bankAccountName,"onUpdate:modelValue":l[9]||(l[9]=l=>e.supplierForm.bankAccountName=l)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(f,{label:"账户账号",required:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{modelValue:e.supplierForm.bankAccount,"onUpdate:modelValue":l[10]||(l[10]=l=>e.supplierForm.bankAccount=l)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(f,{label:"地址",required:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{modelValue:e.supplierForm.address,"onUpdate:modelValue":l[11]||(l[11]=l=>e.supplierForm.address=l)},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])])),_:1},8,["modelValue"]),(0,t.Wm)(k,{modelValue:e.dialogVisible2,"onUpdate:modelValue":l[22]||(l[22]=l=>e.dialogVisible2=l),title:"编辑仓位",width:"30%","before-close":e.handleClose,"show-close":!1},{footer:(0,t.w5)((()=>[(0,t._)("span",p,[(0,t.Wm)(g,{onClick:l[21]||(l[21]=l=>e.dialogVisible2=!1)},{default:(0,t.w5)((()=>[(0,t.Uk)("取消")])),_:1}),(0,t.Wm)(g,{type:"primary",onClick:e.handleUpdateSupplier},{default:(0,t.w5)((()=>[(0,t.Uk)(" 确认 ")])),_:1},8,["onClick"])])])),default:(0,t.w5)((()=>[(0,t._)("div",null,[(0,t.Wm)(b,{model:e.supplierForm,"label-width":"120px"},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{label:"供应商编码",prop:"supplierCode",required:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{modelValue:e.supplierForm.supplierCode,"onUpdate:modelValue":l[14]||(l[14]=l=>e.supplierForm.supplierCode=l)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(f,{label:"供应商名字",prop:"supplierName",required:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{modelValue:e.supplierForm.supplierName,"onUpdate:modelValue":l[15]||(l[15]=l=>e.supplierForm.supplierName=l)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(f,{label:"备注",required:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{modelValue:e.supplierForm.remark,"onUpdate:modelValue":l[16]||(l[16]=l=>e.supplierForm.remark=l)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(f,{label:"手机号",required:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{modelValue:e.supplierForm.telephone,"onUpdate:modelValue":l[17]||(l[17]=l=>e.supplierForm.telephone=l)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(f,{label:"账户名",required:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{modelValue:e.supplierForm.bankAccountName,"onUpdate:modelValue":l[18]||(l[18]=l=>e.supplierForm.bankAccountName=l)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(f,{label:"账户账号",required:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{modelValue:e.supplierForm.bankAccount,"onUpdate:modelValue":l[19]||(l[19]=l=>e.supplierForm.bankAccount=l)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(f,{label:"地址",required:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{modelValue:e.supplierForm.address,"onUpdate:modelValue":l[20]||(l[20]=l=>e.supplierForm.address=l)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])])),_:1},8,["modelValue","before-close"])])],64)}var s=a(4870),c=a(2655),h=a(7178),f=a(2900),b=(0,t.aZ)({name:"UserRole",components:{},setup(){let e=(0,s.qj)({data:[]});const l=(0,s.qj)({supplierName:"",supplierCode:"",remark:"",status:0,createTime:"",bankAccountName:"",bankAccount:"",telephone:"",address:"",contactPerson:"",deptId:"1",id:""}),a=(0,s.qj)({name:""});let r=(0,s.iH)(!1);const o=(0,s.iH)(!1),u=(0,s.qj)({supplierName:[{required:!0,message:"请输入内容",trigger:"blur"},{min:3,max:10,message:"账号长度 在 3 到 10长度之间",trigger:"blur"}],supplierCode:[{required:!0,message:"请输入内容",trigger:"blur"},{min:3,max:10,message:"账号长度 在 3 到 10长度之间",trigger:"blur"}]});let i=(0,s.qj)({data:{page:1,limit:10,total:e.data.length}});const d=(e,l)=>l.status==e;(0,t.bv)((()=>{n(i.data.page,i.data.limit)}));const n=(l,a)=>{(0,f.dt)(l,a).then((l=>{e.data=l.rows,i.data.total=l.total}))},p=()=>e.data,m=e=>{i.page=e,n(e,i.data.limit)},b=e=>{i.limit=e,n(i.data.page,e)},g=()=>{c.T.confirm("确认提交?").then((()=>{(0,f.GI)(l).then((()=>{r.value=!1,n(i.data.page,i.data.limit)}))})).catch((()=>{}))},V=e=>{c.T.confirm("是否要删除该用户?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(0,f.eT)(e).then((()=>{n(i.data.page,i.data.limit),(0,h.z8)({type:"success",message:"删除成功"})}))})).catch((()=>{(0,h.z8)({type:"info",message:"取消操作"})}))},w=e=>{o.value=!0,l.supplierCode=e.supplierCode,l.supplierName=e.supplierName,l.remark=e.remark,l.maxCap=e.maxCap,l.id=e.id},W=()=>{c.T.confirm("确认提交?").then((()=>{(0,f.S6)(l).then((()=>{o.value=!1,n(i.data.page,i.data.limit)}))})).catch((()=>{}))},k=e=>{c.T.confirm("确认提交?").then((()=>{done()})).catch((()=>{}))};return{supplierData:e,dialogVisible1:r,dialogVisible2:o,searchForm:a,supplierForm:l,supplierRules:u,tableData:p,filterTag:d,handleCurrentChange:m,handleSizeChange:b,handleClose:k,handleDeleteRole:V,handleAddSupplier:g,handleGetSupplierList:n,handleUpdateSupplier:W,handleOpenEdit:w,...(0,s.BK)(i)}}}),g=a(89);const V=(0,g.Z)(b,[["render",m],["__scopeId","data-v-0d5fa2be"]]);var w=V}}]);
//# sourceMappingURL=940.7e13967d.js.map