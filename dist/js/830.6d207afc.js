"use strict";(self["webpackChunkERP"]=self["webpackChunkERP"]||[]).push([[830],{3026:function(e,t,a){a.d(t,{_R:function(){return n},m9:function(){return s},py:function(){return i},tI:function(){return o},wd:function(){return r},yS:function(){return m}});var l=a(2334);function o(e){return(0,l.Z)({url:"/system/streamSchedule",headers:{isToken:!0},method:"post",data:e})}function s(e,t){return(0,l.Z)({url:"/system/streamSchedule/list",headers:{isToken:!0},method:"get",params:{pageNum:e,pageSize:t}})}function r(e){return(0,l.Z)({url:"/system/streamShop",headers:{isToken:!0},method:"post",data:e})}function m(e,t){return(0,l.Z)({url:"/system/streamShop/list",headers:{isToken:!0},method:"get",params:{pageNum:e,pageSize:t}})}function i(e){return(0,l.Z)({url:"/system/streamHost",headers:{isToken:!0},method:"post",data:e})}function n(e,t){return(0,l.Z)({url:"/system/streamHost/list",headers:{isToken:!0},method:"get",params:{pageNum:e,pageSize:t}})}},3830:function(e,t,a){a.r(t),a.d(t,{default:function(){return W}});var l=a(3396),o=a(7139);const s={class:"front"},r={class:"tail"},m={class:"tail-action"},i={class:"pagination"},n={class:"dialog-list"},d={class:"dialog-footer"},u={class:"dialog-footer"};function p(e,t,a,p,c,h){const f=(0,l.up)("el-input"),g=(0,l.up)("el-form-item"),w=(0,l.up)("el-form"),H=(0,l.up)("el-button"),b=(0,l.up)("el-table-column"),W=(0,l.up)("el-tag"),y=(0,l.up)("el-table"),k=(0,l.up)("el-pagination"),_=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",s,[(0,l.Wm)(w,{model:e.searchForm,"label-width":"120px"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{class:"input",label:"主播名称"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{modelValue:e.searchForm.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.searchForm.name=t)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"]),(0,l.Wm)(H,{class:"search",type:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)("查询")])),_:1})]),(0,l._)("div",r,[(0,l._)("div",m,[(0,l.Wm)(H,{type:"primary",onClick:t[1]||(t[1]=t=>e.dialogVisible1=!0)},{default:(0,l.w5)((()=>[(0,l.Uk)("新增")])),_:1}),(0,l.Wm)(H,{type:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)("启用")])),_:1})]),(0,l.Wm)(y,{data:e.tableData(),border:"",style:{width:"100%"}},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{prop:"hostCode",label:"主播编号","min-width":"60PX"}),(0,l.Wm)(b,{prop:"hostName",label:"主播名字","min-width":"60PX"}),(0,l.Wm)(b,{prop:"userInfo",label:"主播名称","min-width":"100PX"}),(0,l.Wm)(b,{prop:"userPhone",label:"平台类型","min-width":"70PX"}),(0,l.Wm)(b,{prop:"status",label:"用户状态",width:"100",filters:[{text:"启用",value:0},{text:"停用",value:1}],"filter-method":e.filterTag,"filter-placement":"bottom-end"},{default:(0,l.w5)((e=>[(0,l.Wm)(W,{type:0==e.row.status?"success":"danger","disable-transitions":""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(0==e.row.status?"启用":"停用"),1)])),_:2},1032,["type"])])),_:1},8,["filter-method"]),(0,l.Wm)(b,{prop:"telephone",label:"手机号","min-width":"80PX"}),(0,l.Wm)(b,{prop:"createBy",label:"添加人","min-width":"50PX"}),(0,l.Wm)(b,{prop:"remark",label:"备注","min-width":"100PX"}),(0,l.Wm)(b,{prop:"createTime",label:"添加时间","min-width":"60PX"}),(0,l.Wm)(b,{fixed:"right",label:"操作","min-width":"60"},{default:(0,l.w5)((t=>[(0,l.Wm)(H,{link:"",type:"primary",size:"small",onClick:a=>e.handleOpenEdit(t.row)},{default:(0,l.w5)((()=>[(0,l.Uk)("编辑")])),_:2},1032,["onClick"]),(0,l.Wm)(H,{link:"",type:"primary",size:"small",onClick:a=>e.handleOpenEdit(t.row)},{default:(0,l.w5)((()=>[(0,l.Uk)("设置扣点")])),_:2},1032,["onClick"]),(0,l.Wm)(H,{link:"",type:"primary",size:"small",onClick:a=>e.handleDeleteStreamHost(t.row.streamHostId)},{default:(0,l.w5)((()=>[(0,l.Uk)("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,l._)("div",i,[(0,l.Wm)(k,{"current-page":e.data.page,"onUpdate:currentPage":t[2]||(t[2]=t=>e.data.page=t),"page-size":e.data.limit,"onUpdate:pageSize":t[3]||(t[3]=t=>e.data.limit=t),layout:"prev, pager, next ,total,sizes",total:e.data.total,onCurrentChange:e.handleCurrentChange,onSizeChange:e.handleSizeChange},null,8,["current-page","page-size","total","onCurrentChange","onSizeChange"])])]),(0,l._)("div",n,[(0,l.Wm)(_,{modelValue:e.dialogVisible1,"onUpdate:modelValue":t[8]||(t[8]=t=>e.dialogVisible1=t),title:"新建角色",width:"30%","close-on-click-modal":!0,"show-close":!1},{footer:(0,l.w5)((()=>[(0,l._)("span",d,[(0,l.Wm)(H,{onClick:t[7]||(t[7]=t=>e.dialogVisible1=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)("取消")])),_:1}),(0,l.Wm)(H,{type:"primary",onClick:e.handleAddStreamHost},{default:(0,l.w5)((()=>[(0,l.Uk)(" 确认 ")])),_:1},8,["onClick"])])])),default:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l.Wm)(w,{model:e.streamHostForm,"label-width":"120px",rules:e.streamHostRules},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{label:"角色名称",prop:"streamHostName",required:!0},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{modelValue:e.streamHostForm.streamHostName,"onUpdate:modelValue":t[4]||(t[4]=t=>e.streamHostForm.streamHostName=t)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(g,{label:"权限字符",prop:"streamHostName",required:!0},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{modelValue:e.streamHostForm.streamHostKey,"onUpdate:modelValue":t[5]||(t[5]=t=>e.streamHostForm.streamHostKey=t)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(g,{label:"角色顺序",required:!0},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{modelValue:e.streamHostForm.streamHostSort,"onUpdate:modelValue":t[6]||(t[6]=t=>e.streamHostForm.streamHostSort=t)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(g,{label:"角色权限"})])),_:1},8,["model","rules"])])])),_:1},8,["modelValue"]),(0,l.Wm)(_,{modelValue:e.dialogVisible2,"onUpdate:modelValue":t[13]||(t[13]=t=>e.dialogVisible2=t),title:"编辑用户",width:"30%","before-close":e.handleClose,"show-close":!1},{footer:(0,l.w5)((()=>[(0,l._)("span",u,[(0,l.Wm)(H,{onClick:t[11]||(t[11]=t=>e.dialogVisible2=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)("取消")])),_:1}),(0,l.Wm)(H,{type:"primary",onClick:t[12]||(t[12]=t=>e.dialogVisible2=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)(" 确认 ")])),_:1})])])),default:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l.Wm)(w,{model:e.streamHostForm,"label-width":"120px"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{label:"角色名称",prop:"streamHostName",required:!0},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{modelValue:e.streamHostForm.streamHostName,"onUpdate:modelValue":t[9]||(t[9]=t=>e.streamHostForm.streamHostName=t)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(g,{label:"权限字符",prop:"streamHostName",required:!0},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{modelValue:e.streamHostForm.streamHostKey,"onUpdate:modelValue":t[10]||(t[10]=t=>e.streamHostForm.streamHostKey=t)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(g,{label:"角色权限"})])),_:1},8,["model"])])])),_:1},8,["modelValue","before-close"])])],64)}var c=a(4870),h=a(2655),f=a(7178),g=a(3026),w=(0,l.aZ)({name:"StreamHost",components:{},setup(){let e=(0,c.qj)({data:[]});const t=(0,c.qj)({streamHostName:"",streamHostKey:"",streamHostSort:"1",menuIds:[],remark:"",status:0,password:""}),a=(0,c.qj)({name:""});let o=(0,c.iH)(!1);const s=(0,c.iH)(!1),r=(0,c.qj)({streamHostName:[{required:!0,message:"请输入内容",trigger:"blur"},{min:3,max:10,message:"账号长度 在 3 到 10长度之间",trigger:"blur"}]});let m=(0,c.qj)({data:{page:1,limit:10,total:e.data.length}});const i=(e,t)=>t.status==e;(0,l.bv)((()=>{n(m.data.page,m.data.limit)}));const n=(t,a)=>{(0,g._R)(t,a).then((t=>{e.data=t.rows,m.data.total=t.total}))},d=()=>e.data,u=e=>{m.page=e,n(e,m.data.limit)},p=e=>{m.limit=e,n(m.data.page,e)},w=()=>{h.T.confirm("确认提交?").then((()=>{t.streamHostKey=t.streamHostName,(0,g.py)(t).then((()=>{o.value=!1,n(m.data.page,m.data.limit)}))})).catch((()=>{}))},H=e=>{h.T.confirm("是否要删除该用户?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{deleteStreamHost(e).then((()=>{n(m.data.page,m.data.limit),(0,f.z8)({type:"success",message:"删除成功"})}))})).catch((()=>{(0,f.z8)({type:"info",message:"取消操作"})}))},b=e=>{s.value=!0,t.streamHostName=e.streamHostName,t.streamHostKey=e.streamHostName,t.menuIds=e.menuIds},W=e=>{h.T.confirm("确认提交?").then((()=>{done()})).catch((()=>{}))};return{streamHostData:e,dialogVisible1:o,dialogVisible2:s,searchForm:a,streamHostForm:t,streamHostRules:r,tableData:d,filterTag:i,handleCurrentChange:u,handleSizeChange:p,handleClose:W,handleDeleteStreamHost:H,handleAddStreamHost:w,handleGetStreamHostList:n,handleOpenEdit:b,...(0,c.BK)(m)}}}),H=a(89);const b=(0,H.Z)(w,[["render",p],["__scopeId","data-v-536f59d7"]]);var W=b}}]);
//# sourceMappingURL=830.6d207afc.js.map