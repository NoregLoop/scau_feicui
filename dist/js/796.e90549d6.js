"use strict";(self["webpackChunkERP"]=self["webpackChunkERP"]||[]).push([[796],{3896:function(e,t,a){a.d(t,{Aq:function(){return i},Hc:function(){return p},KF:function(){return r},eB:function(){return u},jR:function(){return o},pN:function(){return n},qL:function(){return s},x0:function(){return d}});var l=a(2334);function i(){return(0,l.Z)({url:"/system/warehouse/list",headers:{isToken:!0},method:"get"})}function r(e){return(0,l.Z)({url:"/system/warehouse",headers:{isToken:!0},method:"post",data:e})}function s(e){return(0,l.Z)({url:"/system/warehouse",headers:{isToken:!0},method:"put",data:e})}function d(e){return(0,l.Z)({url:"/system/warehouse/"+e,headers:{isToken:!0},method:"delete"})}function o(){return(0,l.Z)({url:"/system/storage/list",headers:{isToken:!0},method:"get"})}function n(e){return(0,l.Z)({url:"/system/storage",headers:{isToken:!0},method:"post",data:e})}function u(e){return(0,l.Z)({url:"/system/storage/"+e,headers:{isToken:!0},method:"delete"})}function p(e){return(0,l.Z)({url:"/system/storage",headers:{isToken:!0},method:"put",data:e})}},2900:function(e,t,a){a.d(t,{GI:function(){return n},Nu:function(){return d},Qu:function(){return s},S6:function(){return u},ZF:function(){return r},cr:function(){return i},dt:function(){return o},eT:function(){return p}});var l=a(2334);function i(e,t){return(0,l.Z)({url:"/system/basicClient/list",headers:{isToken:!0},method:"get",params:{pageNum:e,pageSize:t}})}function r(e){return(0,l.Z)({url:"/system/basicClient",headers:{isToken:!0},method:"post",data:e})}function s(e){return(0,l.Z)({url:"/system/basicClient",headers:{isToken:!0},method:"put",data:e})}function d(e){return(0,l.Z)({url:"/system/basicClient/"+e,headers:{isToken:!0},method:"delete"})}function o(e,t){return(0,l.Z)({url:"/system/supplier/list",headers:{isToken:!0},method:"get",params:{pageNum:e,pageSize:t}})}function n(e){return(0,l.Z)({url:"/system/supplier",headers:{isToken:!0},method:"post",data:e})}function u(e){return(0,l.Z)({url:"/system/supplier",headers:{isToken:!0},method:"put",data:e})}function p(e){return(0,l.Z)({url:"/system/supplier/"+e,headers:{isToken:!0},method:"delete"})}},6796:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var l=a(3396),i=a(7139);const r=e=>((0,l.dD)("data-v-5cab0369"),e=e(),(0,l.Cn)(),e),s={class:"front"},d={class:"tail"},o={class:"tail-action"},n=r((()=>(0,l._)("div",{class:"no-data"},"暂无数据",-1))),u={class:"pagination"},p={class:"dialog-list"};function m(e,t,a,r,m,c){const h=(0,l.up)("el-input"),w=(0,l.up)("el-form-item"),f=(0,l.up)("el-option"),b=(0,l.up)("el-select"),g=(0,l.up)("el-button"),W=(0,l.up)("el-form"),v=(0,l.up)("el-collapse-item"),k=(0,l.up)("el-collapse"),y=(0,l.up)("el-table-column"),_=(0,l.up)("el-image"),C=(0,l.up)("el-checkbox"),S=(0,l.up)("el-checkbox-group"),U=(0,l.up)("el-popover"),z=(0,l.up)("el-table"),N=(0,l.up)("el-pagination"),D=(0,l.up)("el-descriptions-item"),T=(0,l.up)("el-descriptions"),j=(0,l.up)("el-drawer");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",s,[(0,l.Wm)(k,{modelValue:e.activeNames,"onUpdate:modelValue":t[4]||(t[4]=t=>e.activeNames=t),class:"front-collapse",onChange:t[5]||(t[5]=t=>{e.activeNames=!e.activeNames,"收起"==e.collapseName?e.collapseName="展开":e.collapseName="收起"})},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{title:e.collapseName,class:"collapse-1",name:"1"},{default:(0,l.w5)((()=>[(0,l.Wm)(W,{model:e.searchForm,"label-width":"120px"},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{label:"货品条码",class:"front-input"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{modelValue:e.searchForm.jadeCode,"onUpdate:modelValue":t[0]||(t[0]=t=>e.searchForm.jadeCode=t)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(w,{label:"货品状态",class:"front-input"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{modelValue:e.searchForm.status,"onUpdate:modelValue":t[1]||(t[1]=t=>e.searchForm.status=t),placeholder:"搜索匹配",style:{}},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{label:"在仓",value:"0"}),(0,l.Wm)(f,{label:"已借出",value:"1"}),(0,l.Wm)(f,{label:"市场已还",value:"2"}),(0,l.Wm)(f,{label:"已售出",value:"3"})])),_:1},8,["modelValue"])])),_:1}),(0,l.Wm)(w,{label:"所属仓库",class:"front-input"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{modelValue:e.searchForm.desWarehouseId,"onUpdate:modelValue":t[2]||(t[2]=t=>e.searchForm.desWarehouseId=t),placeholder:"搜索匹配",style:{}},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.warehouseList,(e=>((0,l.wg)(),(0,l.j4)(f,{key:e.id,label:e.warehouseName,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,l.Wm)(w,{label:"供应商",class:"front-input"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{modelValue:e.searchForm.supplierId,"onUpdate:modelValue":t[3]||(t[3]=t=>e.searchForm.supplierId=t),placeholder:"搜索匹配",style:{},prop:"supplierId"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.supplierList,(e=>((0,l.wg)(),(0,l.j4)(f,{key:e.id,label:e.supplierName,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[(0,l.Wm)(g,{type:"primary",onClick:e.onSearch},{default:(0,l.w5)((()=>[(0,l.Uk)("查询")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])),_:1},8,["title"])])),_:1},8,["modelValue"])]),(0,l._)("div",d,[(0,l._)("div",o,[(0,l.Wm)(g,{type:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)("导出列表")])),_:1}),(0,l.Wm)(g,{type:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)("打印明细")])),_:1})]),(0,l.Wm)(z,{data:e.tableData(),border:"",style:{width:"100%"},"max-height":"收起"==e.collapseName?400:650},{empty:(0,l.w5)((()=>[n])),default:(0,l.w5)((()=>[(0,l.Wm)(y,{type:"selection",width:"40"}),(0,l.Wm)(y,{label:"货品图片",width:"100"},{default:(0,l.w5)((t=>[(0,l.Wm)(_,{src:"http://47.106.116.146:8080/profile"+t.row.imageUrl,fit:"contain",style:{"max-height":"70px","max-width":"50px"},"preview-teleported":!0,lazy:!0,"preview-src-list":e.imgPreview,onClick:a=>e.previewSrcList(t.row.imageUrl)},null,8,["src","preview-src-list","onClick"])])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.inboundDataColumn.data,(e=>((0,l.wg)(),(0,l.j4)(y,{prop:e.prop,"min-width":e.minWidth,width:e.width,"max-width":e.maxWidth,label:e.label},null,8,["prop","min-width","width","max-width","label"])))),256)),(0,l.Wm)(y,{width:"100px",fixed:"right"},{header:(0,l.w5)((()=>[(0,l.Wm)(U,{placement:"bottom",trigger:"click"},{reference:(0,l.w5)((()=>[(0,l.Wm)(g,{size:"small"},{default:(0,l.w5)((()=>[(0,l.Uk)("显示设置")])),_:1})])),default:(0,l.w5)((()=>[(0,l.Wm)(S,{modelValue:e.selectedFilters.data,"onUpdate:modelValue":t[6]||(t[6]=t=>e.selectedFilters.data=t)},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.tableFilter.data,(t=>((0,l.wg)(),(0,l.j4)(C,{label:t.label,onChange:e.filterColumns,disabled:t.isdisabled},null,8,["label","onChange","disabled"])))),256))])),_:1},8,["modelValue"])])),_:1})])),default:(0,l.w5)((t=>[(0,l.Wm)(g,{link:"",type:"primary",size:"small",onClick:a=>e.openDetails(t.row)},{default:(0,l.w5)((()=>[(0,l.Uk)("查看明细")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","max-height"]),(0,l._)("div",u,[(0,l.Wm)(N,{"current-page":e.data.page,"onUpdate:currentPage":t[7]||(t[7]=t=>e.data.page=t),"page-size":e.data.limit,"onUpdate:pageSize":t[8]||(t[8]=t=>e.data.limit=t),layout:"prev, pager, next ,total,sizes",total:e.data.total,"onUpdate:total":t[9]||(t[9]=t=>e.data.total=t),onCurrentChange:e.handleCurrentChange,onSizeChange:e.handleSizeChange},null,8,["current-page","page-size","total","onCurrentChange","onSizeChange"])])]),(0,l._)("div",p,[(0,l._)("div",null,[(0,l.Wm)(j,{modelValue:e.drawer,"onUpdate:modelValue":t[11]||(t[11]=t=>e.drawer=t),direction:e.direction,size:"35%"},{default:(0,l.w5)((()=>[(0,l.Wm)(T,{border:"",size:"large",direction:"vertical",title:"货品详情"},{default:(0,l.w5)((()=>[(0,l.Wm)(D,{label:"图片"},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{src:"http://47.106.116.146:8080/profile"+e.rowDetails.imageUrl,style:{height:"120px",width:"90px"},"preview-src-list":e.imgPreview,onClick:t[10]||(t[10]=t=>e.previewSrcList(e.scope.row.imageUrl))},null,8,["src","preview-src-list"])])),_:1}),(0,l.Wm)(D,{label:"货品编码"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.rowDetails.jadeCode),1)])),_:1}),(0,l.Wm)(D,{label:"入库单号"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.rowDetails.orderCode),1)])),_:1}),(0,l.Wm)(D,{label:"数量"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.rowDetails.jadeWeight),1)])),_:1}),(0,l.Wm)(D,{label:"供应商",width:"150"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.rowDetails.supplierName),1)])),_:1}),(0,l.Wm)(D,{label:"货品状态"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.rowDetails.inventoryStatus),1)])),_:1}),(0,l.Wm)(D,{label:"仓位名字",width:"150"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.rowDetails.storageName),1)])),_:1}),(0,l.Wm)(D,{label:"仓库名字"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.rowDetails.warehouseName),1)])),_:1}),(0,l.Wm)(D,{label:"入库时间"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.rowDetails.createTime),1)])),_:1}),(0,l.Wm)(D,{label:"添加人"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.rowDetails.createBy),1)])),_:1})])),_:1})])),_:1},8,["modelValue","direction"])])])],64)}a(7658);var c=a(4870),h=a(2334);function w(e,t,a,l,i){return(0,h.Z)({url:"/system/jade/list",headers:{isToken:!0},params:{pageNum:e,pageSize:t,status:a,supplierId:l,desWarehouseId:i},method:"get"})}function f(){return(0,h.Z)({url:"/system/jade/getInventoryStatus",headers:{isToken:!0},method:"get"})}var b=a(2900),g=a(3896),W=(0,l.aZ)({name:"jadeInboundList",components:{},setup(){const e=(0,c.iH)({}),t=(0,c.iH)(!1),a=(0,c.qj)({jadeCode:"",lendCustom:"",status:"",desWarehouseId:"",supplierId:"",data:[],count:0}),i=(0,c.iH)([]),r=(0,c.qj)({data:[]}),s=(0,c.qj)({data:[]}),d=(0,c.iH)([]),o=(0,c.iH)([]),n=(0,c.iH)([]),u=(0,c.iH)([]),p=(0,c.qj)({data:[{label:"货品编码",prop:"jadeCode",width:"200",isdisabled:!0,isSelected:!0},{label:"数量",prop:"jadeWeight",width:"60",isSelected:!0},{label:"成本价",prop:"costPrice",width:"70",isSelected:!0},{label:"标签价",prop:"sellingPrice",Width:"70",isSelected:!1},{label:"供应商",prop:"supplierName",width:"70",isSelected:!0},{label:"货品状态",prop:"inventoryStatus",width:"90",isSelected:!0},{label:"客户名字",prop:"clientName",width:"70",isSelected:!1},{label:"仓库/仓位",prop:"storageName",width:"70",isSelected:!1},{label:"采购方式",prop:"inboundTypeName",width:"90",isdisabled:!0,isSelected:!0},{label:"入库人员",prop:"inboundPeople",width:"90",isdisabled:!0,isSelected:!0},{label:"入库时间",prop:"createTime",minWidth:"100",isdisabled:!0,isSelected:!0},{label:"备注",prop:"remark",minWidth:"80",maxWidth:"80",isSelected:!0},{label:"测试1",prop:"test1",minWidth:"80",maxWidth:"80",isSelected:!1},{label:"测试2",prop:"test2",minWidth:"80",maxWidth:"80",isSelected:!1}]}),m=(0,c.iH)("展开"),h=(0,c.iH)(!1),W=(0,c.qj)({data:{page:1,limit:10,total:i.value.length}}),v=()=>i.value,k=e=>{W.data.page=e,_(e,W.data.limit)},y=e=>{W.data.limit=e,_(W.data.page,e)},_=(e,t)=>{w(e,t).then((e=>{i.value=e.rows,W.data.total=e.total}))};(0,l.wF)((()=>{(0,b.dt)().then((e=>{d.value=e.rows})),f().then((e=>{n.value=e.rows})),(0,g.Aq)().then((e=>{o.value=e.rows})),_(W.data.page,W.data.limit)}));const C=()=>{w(W.data.page,W.data.limit,a.status,a.supplierId,a.desWarehouseId).then((e=>{i.value=e.rows,W.data.total=e.total}))};(0,l.bv)((()=>{p.data.forEach((function(e,t){e.isSelected&&(r.data.push(e.label),s.data.push(e))}))}));const S=e=>{u.value=[],u.value.push("http://47.106.116.146:8080/profile"+e)},U=()=>{let e=[];p.data.forEach((t=>{r.data.forEach((a=>{t.label==a&&e.push(t)}))})),s.data=e},z=a=>{t.value=!0,e.value=a};return{jadeListData:i,imgPreview:u,searchForm:a,rowDetails:e,drawer:t,collapseName:m,supplierList:d,warehouseList:o,statusList:n,activeNames:h,inboundDataColumn:s,selectedFilters:r,tableFilter:p,tableData:v,filterColumns:U,onSearch:C,handleCurrentChange:k,previewSrcList:S,handleSizeChange:y,handleGetJadeList:_,openDetails:z,...(0,c.BK)(W)}}}),v=a(89);const k=(0,v.Z)(W,[["render",m],["__scopeId","data-v-5cab0369"]]);var y=k}}]);
//# sourceMappingURL=796.e90549d6.js.map