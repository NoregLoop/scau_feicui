{"version":3,"file":"js/830.6d207afc.js","mappings":"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","sources":["webpack://ERP/./src/api/schedule.js","webpack://ERP/./src/views/schedule/streamHost.vue","webpack://ERP/./src/views/schedule/streamHost.vue?7ce1"],"sourcesContent":["import request from '@/utils/request'\r\n\r\nexport function addSchedule(inboundForm) {//增加排班\r\n    return request({\r\n        url: '/system/streamSchedule',\r\n        headers: {\r\n            isToken: true\r\n        },\r\n        method: 'post',\r\n        data: inboundForm\r\n    });\r\n}\r\n\r\nexport function getScheduleList(pageNum,pageSize) {//获取排班列表\r\n    return request({\r\n        url: '/system/streamSchedule/list',\r\n        headers: {\r\n            isToken: true\r\n        },\r\n        method: 'get',\r\n        params: {\r\n            pageNum,pageSize\r\n        }\r\n    });\r\n}\r\n\r\nexport function getOrderCode() {//获取入库单单号\r\n    return request({\r\n        url: '/system/inboundOrder/getInboundOrderCode',\r\n        headers: {\r\n            isToken: true\r\n        },\r\n        method: 'get',\r\n    });\r\n}\r\n\r\n\r\n\r\nexport function addStreamShop(inboundForm) {//增加店铺\r\n    return request({\r\n        url: '/system/streamShop',\r\n        headers: {\r\n            isToken: true\r\n        },\r\n        method: 'post',\r\n        data: inboundForm\r\n    });\r\n}\r\n\r\nexport function getStreamShopList(pageNum,pageSize) {//获取店铺列表\r\n    return request({\r\n        url: '/system/streamShop/list',\r\n        headers: {\r\n            isToken: true\r\n        },\r\n        method: 'get',\r\n        params: {\r\n            pageNum,pageSize\r\n        }\r\n    });\r\n}\r\nexport function addStreamHost(inboundForm) {//增加主播\r\n    return request({\r\n        url: '/system/streamHost',\r\n        headers: {\r\n            isToken: true\r\n        },\r\n        method: 'post',\r\n        data: inboundForm\r\n    });\r\n}\r\n\r\nexport function getStreamHostList(pageNum,pageSize) {//获取主播列表\r\n    return request({\r\n        url: '/system/streamHost/list',\r\n        headers: {\r\n            isToken: true\r\n        },\r\n        method: 'get',\r\n        params: {\r\n            pageNum,pageSize\r\n        }\r\n    });\r\n}\r\n\r\n","<template>\r\n    <div class=\"front\">\r\n      <el-form :model=\"searchForm\" label-width=\"120px\">\r\n        <el-form-item class=\"input\" label=\"主播名称\">\r\n          <el-input v-model=\"searchForm.name\" />\r\n        </el-form-item>\r\n      </el-form>\r\n      <el-button class=\"search\" type=\"primary\">查询</el-button>\r\n    </div>\r\n  \r\n  \r\n    <div class=\"tail\">\r\n      <div class=\"tail-action\">\r\n        <el-button type=\"primary\" @click=\"dialogVisible1 = true\">新增</el-button>\r\n        <el-button type=\"primary\">启用</el-button>\r\n      </div>\r\n      <el-table :data=\"tableData()\" border style=\"width: 100%\">\r\n        <el-table-column prop=\"hostCode\" label=\"主播编号\" min-width=\"60PX\" />\r\n        <el-table-column prop=\"hostName\" label=\"主播名字\" min-width=\"60PX\" />\r\n        <el-table-column prop=\"userInfo\" label=\"主播名称\" min-width=\"100PX\" />\r\n        <el-table-column prop=\"userPhone\" label=\"平台类型\" min-width=\"70PX\" />\r\n        <el-table-column prop=\"status\" label=\"用户状态\" width=\"100\" :filters=\"[\r\n          { text: '启用', value: 0 },\r\n          { text: '停用', value: 1 },\r\n        ]\" :filter-method=\"filterTag\" filter-placement=\"bottom-end\">\r\n          <template #default=\"scope\">\r\n            <el-tag :type=\"scope.row.status == 0 ? 'success' : 'danger'\" disable-transitions>{{ scope.row.status == 0 ? '启用'\r\n              : '停用'\r\n            }}</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"telephone\" label=\"手机号\" min-width=\"80PX\" />\r\n        <el-table-column prop=\"createBy\" label=\"添加人\" min-width=\"50PX\" />\r\n        <el-table-column prop=\"remark\" label=\"备注\" min-width=\"100PX\" />\r\n        <el-table-column prop=\"createTime\" label=\"添加时间\" min-width=\"60PX\" />\r\n        <el-table-column fixed=\"right\" label=\"操作\" min-width=\"60\">\r\n          <template #default=\"scope\">\r\n            <el-button link type=\"primary\" size=\"small\" @click=\"handleOpenEdit(scope.row)\">编辑</el-button>\r\n            <el-button link type=\"primary\" size=\"small\" @click=\"handleOpenEdit(scope.row)\">设置扣点</el-button>\r\n            <el-button link type=\"primary\" size=\"small\" @click=\"handleDeleteStreamHost(scope.row.streamHostId)\">删除</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div class=\"pagination\">\r\n        <el-pagination v-model:current-page=\"data.page\" v-model:page-size=\"data.limit\"\r\n          layout=\"prev, pager, next ,total,sizes\" :total=\"data.total\" @current-change=\"handleCurrentChange\"\r\n          @size-change=\"handleSizeChange\" />\r\n      </div>\r\n    </div>\r\n  \r\n    <div class=\"dialog-list\">\r\n      <el-dialog v-model=\"dialogVisible1\" title=\"新建角色\" width=\"30%\" :close-on-click-modal=\"true\" :show-close=\"false\">\r\n        <div>\r\n          <el-form :model=\"streamHostForm\" label-width=\"120px\" :rules=\"streamHostRules\">\r\n            <el-form-item label=\"角色名称\" prop=\"streamHostName\" :required=\"true\">\r\n              <el-input v-model=\"streamHostForm.streamHostName\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"权限字符\" prop=\"streamHostName\" :required=\"true\">\r\n              <el-input v-model=\"streamHostForm.streamHostKey\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"角色顺序\" :required=\"true\">\r\n              <el-input v-model=\"streamHostForm.streamHostSort\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"角色权限\">\r\n\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n        <template #footer>\r\n          <span class=\"dialog-footer\">\r\n            <el-button @click=\"dialogVisible1 = false\">取消</el-button>\r\n            <el-button type=\"primary\" @click=\"handleAddStreamHost\">\r\n              确认\r\n            </el-button>\r\n          </span>\r\n        </template>\r\n      </el-dialog>\r\n  \r\n      <el-dialog v-model=\"dialogVisible2\" title=\"编辑用户\" width=\"30%\" :before-close=\"handleClose\" :show-close=\"false\">\r\n        <div>\r\n          <el-form :model=\"streamHostForm\" label-width=\"120px\">\r\n            <el-form-item label=\"角色名称\" prop=\"streamHostName\" :required=\"true\">\r\n              <el-input v-model=\"streamHostForm.streamHostName\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"权限字符\" prop=\"streamHostName\" :required=\"true\">\r\n              <el-input v-model=\"streamHostForm.streamHostKey\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"角色权限\">\r\n\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n        <template #footer>\r\n          <span class=\"dialog-footer\">\r\n            <el-button @click=\"dialogVisible2 = false\">取消</el-button>\r\n            <el-button type=\"primary\" @click=\"dialogVisible2 = false\">\r\n              确认\r\n            </el-button>\r\n          </span>\r\n        </template>\r\n      </el-dialog>\r\n  \r\n    </div>\r\n  </template>\r\n       \r\n  <script >\r\n  import { ref, defineComponent, reactive, toRefs, } from \"vue\";\r\n  import { ElMessageBox, ElMessage } from 'element-plus'\r\n  import { onMounted } from \"vue\";\r\n  import { addStreamHost, getStreamHostList } from \"@/api/schedule\"\r\n  \r\n  export default defineComponent({\r\n    name: \"StreamHost\",\r\n    components: {},\r\n  \r\n    setup() {\r\n      let streamHostData = reactive({\r\n        data: [],\r\n      });\r\n      const streamHostForm = reactive({\r\n        streamHostName: '',\r\n        streamHostKey: '',\r\n        streamHostSort: '1',\r\n        menuIds: [],\r\n        remark: '',\r\n        status: 0,\r\n        password: '',\r\n      });\r\n      const searchForm = reactive({\r\n        name: '',\r\n  \r\n      });\r\n      let dialogVisible1 = ref(false)\r\n      const dialogVisible2 = ref(false)\r\n      const streamHostRules = reactive({\r\n        streamHostName: [{ required: true, message: '请输入内容', trigger: 'blur' },\r\n        { min: 3, max: 10, message: '账号长度 在 3 到 10长度之间', trigger: 'blur' }],\r\n      });\r\n  \r\n  \r\n      //表格用到的参数\r\n      let state = reactive({\r\n        data: {\r\n          page: 1,\r\n          limit: 10,\r\n          total: streamHostData.data.length,\r\n        }\r\n      });\r\n  \r\n      const filterTag = (value, row) => {\r\n        return row.status == value\r\n      }\r\n      onMounted(() => {\r\n        handleGetStreamHostList(state.data.page, state.data.limit)\r\n      })\r\n  \r\n  \r\n      const handleGetStreamHostList = (page, limit) => {\r\n        getStreamHostList(page, limit).then((res) => {\r\n          streamHostData.data = res.rows\r\n          state.data.total = res.total\r\n        })\r\n      }\r\n      const tableData = () => {\r\n        return streamHostData.data\r\n      };\r\n      //改变页码\r\n      const handleCurrentChange = (e) => {\r\n        state.page = e;\r\n        handleGetStreamHostList(e, state.data.limit)\r\n      };\r\n      //改变页数限制\r\n      const handleSizeChange = (e) => {\r\n        state.limit = e;\r\n        handleGetStreamHostList(state.data.page, e)\r\n      };\r\n  \r\n      //添加角色\r\n      const handleAddStreamHost = () => {\r\n        ElMessageBox.confirm('确认提交?')\r\n          .then(() => {\r\n            streamHostForm.streamHostKey = streamHostForm.streamHostName\r\n            addStreamHost(streamHostForm).then(() => {\r\n              dialogVisible1.value = false\r\n              handleGetStreamHostList(state.data.page, state.data.limit)\r\n            })\r\n          })\r\n          .catch(() => {\r\n            // catch error\r\n          })\r\n  \r\n      }\r\n  \r\n      const handleDeleteStreamHost = (streamHostId) => { //删除角色\r\n        ElMessageBox.confirm(\r\n          '是否要删除该用户?',\r\n          '提示',\r\n          {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            type: 'warning',\r\n          }\r\n        )\r\n          .then(() => {\r\n            deleteStreamHost(streamHostId).then(() => {\r\n              handleGetStreamHostList(state.data.page, state.data.limit)\r\n              ElMessage({\r\n                type: 'success',\r\n                message: '删除成功',\r\n              })\r\n            })\r\n          }).catch(() => {\r\n            ElMessage({\r\n              type: 'info',\r\n              message: '取消操作',\r\n            })\r\n          })\r\n      }\r\n  \r\n      const handleOpenEdit = (data) => { //打开编辑角色\r\n        dialogVisible2.value = true\r\n        streamHostForm.streamHostName = data.streamHostName\r\n        streamHostForm.streamHostKey = data.streamHostName\r\n        streamHostForm.menuIds = data.menuIds\r\n  \r\n      }\r\n  \r\n      const handleClose = (e) => { //提交表单\r\n        ElMessageBox.confirm('确认提交?')\r\n          .then(() => {\r\n            done()\r\n          })\r\n          .catch(() => {\r\n            // catch error\r\n          })\r\n      }\r\n  \r\n      return {\r\n        streamHostData,\r\n        dialogVisible1,\r\n        dialogVisible2,\r\n        searchForm,\r\n        streamHostForm,\r\n        streamHostRules,\r\n        tableData, filterTag,\r\n        handleCurrentChange,\r\n        handleSizeChange,\r\n        handleClose,\r\n        handleDeleteStreamHost, handleAddStreamHost, handleGetStreamHostList,\r\n        handleOpenEdit,\r\n        ...toRefs(state),\r\n      };\r\n    },\r\n  });\r\n  </script>\r\n      \r\n  <style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\r\n  .front {\r\n    background-color: #fff;\r\n    padding: 10px;\r\n    display: flex;\r\n  \r\n    .input {\r\n      float: left;\r\n    }\r\n  \r\n    .search {\r\n      margin-left: 50px;\r\n    }\r\n  }\r\n  \r\n  .center {\r\n    margin: 10px;\r\n  }\r\n  \r\n  .form-add-checkbox {\r\n    width: 200px;\r\n    height: 260px;\r\n    display: block;\r\n    border: solid 1px #c9c9c9;\r\n  \r\n    .form-add-checkbox-item {\r\n      width: 180px;\r\n      margin: auto;\r\n    }\r\n  }\r\n  \r\n  .tail {\r\n    background-color: #fff;\r\n    margin-top: 40px;\r\n    padding: 10px;\r\n  \r\n    .tail-action {\r\n      margin-bottom: 10px;\r\n      display: flex;\r\n    }\r\n  }\r\n  </style>","import { render } from \"./streamHost.vue?vue&type=template&id=536f59d7&scoped=true\"\nimport script from \"./streamHost.vue?vue&type=script&lang=js\"\nexport * from \"./streamHost.vue?vue&type=script&lang=js\"\n\nimport \"./streamHost.vue?vue&type=style&index=0&id=536f59d7&rel=stylesheet%2Fscss&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\devprojects\\\\VsProjects\\\\Tobacco\\\\scau-feicui\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-536f59d7\"]])\n\nexport default __exports__"],"names":["addSchedule","inboundForm","request","url","headers","isToken","method","data","getScheduleList","pageNum","pageSize","params","addStreamShop","getStreamShopList","addStreamHost","getStreamHostList","class","_createElementVNode","_hoisted_1","_createVNode","_component_el_form","model","_ctx","searchForm","_component_el_form_item","label","_component_el_input","name","$event","_component_el_button","type","_hoisted_2","_hoisted_3","onClick","_cache","dialogVisible1","_component_el_table","tableData","border","style","_component_el_table_column","prop","width","filters","filterTag","default","_withCtx","scope","_component_el_tag","row","status","fixed","link","size","handleOpenEdit","handleDeleteStreamHost","streamHostId","_hoisted_4","_component_el_pagination","page","limit","layout","total","onCurrentChange","handleCurrentChange","onSizeChange","handleSizeChange","_hoisted_5","_component_el_dialog","title","footer","_hoisted_6","handleAddStreamHost","streamHostForm","rules","streamHostRules","required","streamHostName","streamHostKey","streamHostSort","dialogVisible2","handleClose","_hoisted_7","defineComponent","components","setup","streamHostData","reactive","menuIds","remark","password","ref","message","trigger","min","max","state","length","value","onMounted","handleGetStreamHostList","then","res","rows","e","ElMessageBox","catch","confirmButtonText","cancelButtonText","deleteStreamHost","ElMessage","done","toRefs","__exports__","render"],"sourceRoot":""}