"use strict";(self["webpackChunkERP"]=self["webpackChunkERP"]||[]).push([[48],{3896:function(e,a,t){t.d(a,{Aq:function(){return o},Hc:function(){return u},KF:function(){return r},eB:function(){return s},jR:function(){return m},pN:function(){return i},qL:function(){return d},x0:function(){return n}});var l=t(2334);function o(){return(0,l.Z)({url:"/system/warehouse/list",headers:{isToken:!0},method:"get"})}function r(e){return(0,l.Z)({url:"/system/warehouse",headers:{isToken:!0},method:"post",data:e})}function d(e){return(0,l.Z)({url:"/system/warehouse",headers:{isToken:!0},method:"put",data:e})}function n(e){return(0,l.Z)({url:"/system/warehouse/"+e,headers:{isToken:!0},method:"delete"})}function m(){return(0,l.Z)({url:"/system/storage/list",headers:{isToken:!0},method:"get"})}function i(e){return(0,l.Z)({url:"/system/storage",headers:{isToken:!0},method:"post",data:e})}function s(e){return(0,l.Z)({url:"/system/storage/"+e,headers:{isToken:!0},method:"delete"})}function u(e){return(0,l.Z)({url:"/system/storage",headers:{isToken:!0},method:"put",data:e})}},6048:function(e,a,t){t.r(a),t.d(a,{default:function(){return k}});var l=t(3396),o=t(7139);const r={class:"front"},d={class:"tail"},n={class:"tail-action"},m={class:"pagination"},i={class:"dialog-list"},s={class:"dialog-footer"},u={class:"dialog-footer"};function g(e,a,t,g,p,c){const h=(0,l.up)("el-input"),f=(0,l.up)("el-form-item"),w=(0,l.up)("el-form"),b=(0,l.up)("el-button"),C=(0,l.up)("el-table-column"),k=(0,l.up)("el-tag"),V=(0,l.up)("el-table"),W=(0,l.up)("el-pagination"),_=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",r,[(0,l.Wm)(w,{model:e.searchForm,"label-width":"120px"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{class:"input",label:"仓位名字"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{modelValue:e.searchForm.name,"onUpdate:modelValue":a[0]||(a[0]=a=>e.searchForm.name=a)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"]),(0,l.Wm)(b,{class:"search",type:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)("查询")])),_:1})]),(0,l._)("div",d,[(0,l._)("div",n,[(0,l.Wm)(b,{type:"primary",onClick:a[1]||(a[1]=a=>e.dialogVisible1=!0)},{default:(0,l.w5)((()=>[(0,l.Uk)("新增仓位")])),_:1})]),(0,l.Wm)(V,{data:e.tableData(),border:"",style:{width:"100%"}},{default:(0,l.w5)((()=>[(0,l.Wm)(C,{prop:"storageCode",label:"仓位编码","min-width":"60"}),(0,l.Wm)(C,{prop:"storageName",label:"仓位名字","min-width":"60"}),(0,l.Wm)(C,{prop:"createBy",label:"创建人","min-width":"60"}),(0,l.Wm)(C,{prop:"createTime",label:"创建时间","min-width":"60"}),(0,l.Wm)(C,{prop:"remark",label:"备注","min-width":"60"}),(0,l.Wm)(C,{prop:"status",label:"状态","min-width":"80",filters:[{text:"启用",value:1},{text:"停用",value:0}],"filter-method":e.filterTag,"filter-placement":"bottom-end"},{default:(0,l.w5)((e=>[(0,l.Wm)(k,{type:1==e.row.status?"success":"danger","disable-transitions":""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(1==e.row.status?"启用":"停用"),1)])),_:2},1032,["type"])])),_:1},8,["filter-method"]),(0,l.Wm)(C,{fixed:"right",label:"Operations","min-width":"60"},{default:(0,l.w5)((a=>[(0,l.Wm)(b,{link:"",type:"primary",size:"small",onClick:t=>e.handleOpenEdit(a.row)},{default:(0,l.w5)((()=>[(0,l.Uk)("编辑")])),_:2},1032,["onClick"]),(0,l.Wm)(b,{link:"",type:"primary",size:"small",onClick:t=>e.handleDeleteRole(a.row.id)},{default:(0,l.w5)((()=>[(0,l.Uk)("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,l._)("div",m,[(0,l.Wm)(W,{"current-page":e.data.page,"onUpdate:currentPage":a[2]||(a[2]=a=>e.data.page=a),"page-size":e.data.limit,"onUpdate:pageSize":a[3]||(a[3]=a=>e.data.limit=a),layout:"prev, pager, next ,total,sizes",total:e.data.total,onCurrentChange:e.handleCurrentChange,onSizeChange:e.handleSizeChange},null,8,["current-page","page-size","total","onCurrentChange","onSizeChange"])])]),(0,l._)("div",i,[(0,l.Wm)(_,{modelValue:e.dialogVisible1,"onUpdate:modelValue":a[9]||(a[9]=a=>e.dialogVisible1=a),title:"新建仓位",width:"30%","close-on-click-modal":!0,"show-close":!1},{footer:(0,l.w5)((()=>[(0,l._)("span",s,[(0,l.Wm)(b,{onClick:a[8]||(a[8]=a=>e.dialogVisible1=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)("取消")])),_:1}),(0,l.Wm)(b,{type:"primary",onClick:e.handleAddStorage},{default:(0,l.w5)((()=>[(0,l.Uk)(" 确认 ")])),_:1},8,["onClick"])])])),default:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l.Wm)(w,{model:e.storageForm,"label-width":"120px",rules:e.storageRules},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{label:"仓位编码",prop:"storageCode",required:!0},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{modelValue:e.storageForm.storageCode,"onUpdate:modelValue":a[4]||(a[4]=a=>e.storageForm.storageCode=a)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(f,{label:"仓位名字",prop:"storageName",required:!0},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{modelValue:e.storageForm.storageName,"onUpdate:modelValue":a[5]||(a[5]=a=>e.storageForm.storageName=a)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(f,{label:"备注",required:!0},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{modelValue:e.storageForm.remark,"onUpdate:modelValue":a[6]||(a[6]=a=>e.storageForm.remark=a)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(f,{label:"最大容量",required:!0},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{modelValue:e.storageForm.maxCap,"onUpdate:modelValue":a[7]||(a[7]=a=>e.storageForm.maxCap=a)},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])])),_:1},8,["modelValue"]),(0,l.Wm)(_,{modelValue:e.dialogVisible2,"onUpdate:modelValue":a[15]||(a[15]=a=>e.dialogVisible2=a),title:"编辑仓位",width:"30%","before-close":e.handleClose,"show-close":!1},{footer:(0,l.w5)((()=>[(0,l._)("span",u,[(0,l.Wm)(b,{onClick:a[14]||(a[14]=a=>e.dialogVisible2=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)("取消")])),_:1}),(0,l.Wm)(b,{type:"primary",onClick:e.handleUpdateStorage},{default:(0,l.w5)((()=>[(0,l.Uk)(" 确认 ")])),_:1},8,["onClick"])])])),default:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l.Wm)(w,{model:e.storageForm,"label-width":"120px"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{label:"仓位编码",prop:"storageCode",required:!0},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{modelValue:e.storageForm.storageCode,"onUpdate:modelValue":a[10]||(a[10]=a=>e.storageForm.storageCode=a)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(f,{label:"仓位名字",prop:"storageName",required:!0},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{modelValue:e.storageForm.storageName,"onUpdate:modelValue":a[11]||(a[11]=a=>e.storageForm.storageName=a)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(f,{label:"备注",required:!0},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{modelValue:e.storageForm.remark,"onUpdate:modelValue":a[12]||(a[12]=a=>e.storageForm.remark=a)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(f,{label:"最大容量",required:!0},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{modelValue:e.storageForm.maxCap,"onUpdate:modelValue":a[13]||(a[13]=a=>e.storageForm.maxCap=a)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])])),_:1},8,["modelValue","before-close"])])],64)}var p=t(4870),c=t(2655),h=t(7178),f=t(3896),w=(0,l.aZ)({name:"UserRole",components:{},setup(){let e=(0,p.qj)({data:[]});const a=(0,p.qj)({storageName:"",storageCode:"",remark:"",status:0,maxCap:"",deptId:"1",id:""}),t=(0,p.qj)({name:""});let o=(0,p.iH)(!1);const r=(0,p.iH)(!1),d=(0,p.qj)({storageName:[{required:!0,message:"请输入内容",trigger:"blur"},{min:3,max:10,message:"账号长度 在 3 到 10长度之间",trigger:"blur"}],storageCode:[{required:!0,message:"请输入内容",trigger:"blur"},{min:3,max:10,message:"账号长度 在 3 到 10长度之间",trigger:"blur"}]});let n=(0,p.qj)({data:{page:1,limit:10,total:e.data.length}});const m=(e,a)=>a.status==e;(0,l.bv)((()=>{i(n.data.page,n.data.limit)}));const i=(a,t)=>{(0,f.jR)(a,t).then((a=>{e.data=a.rows,n.data.total=a.total}))},s=()=>e.data,u=e=>{n.page=e,i(e,n.data.limit)},g=e=>{n.limit=e,i(n.data.page,e)},w=()=>{c.T.confirm("确认提交?").then((()=>{(0,f.pN)(a).then((()=>{o.value=!1,i(n.data.page,n.data.limit)}))})).catch((()=>{}))},b=e=>{c.T.confirm("是否要删除该仓位?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(0,f.eB)(e).then((()=>{i(n.data.page,n.data.limit),(0,h.z8)({type:"success",message:"删除成功"})}))})).catch((()=>{(0,h.z8)({type:"info",message:"取消操作"})}))},C=e=>{r.value=!0,a.storageCode=e.storageCode,a.storageName=e.storageName,a.remark=e.remark,a.maxCap=e.maxCap,a.id=e.id},k=()=>{c.T.confirm("确认提交?").then((()=>{(0,f.Hc)(a).then((()=>{r.value=!1,i(n.data.page,n.data.limit)}))})).catch((()=>{}))},V=e=>{c.T.confirm("确认提交?").then((()=>{done()})).catch((()=>{}))};return{storageData:e,dialogVisible1:o,dialogVisible2:r,searchForm:t,storageForm:a,storageRules:d,tableData:s,filterTag:m,handleCurrentChange:u,handleSizeChange:g,handleClose:V,handleDeleteRole:b,handleAddStorage:w,handleGetStorageList:i,handleUpdateStorage:k,handleOpenEdit:C,...(0,p.BK)(n)}}}),b=t(89);const C=(0,b.Z)(w,[["render",g],["__scopeId","data-v-0cb51b9c"]]);var k=C}}]);
//# sourceMappingURL=48.5decbbb7.js.map