"use strict";(self["webpackChunkERP"]=self["webpackChunkERP"]||[]).push([[908],{5541:function(e,t,a){a.d(t,{B7:function(){return s},Bc:function(){return n},OE:function(){return o},Qf:function(){return i},Sp:function(){return d},Yp:function(){return m},eN:function(){return r},iF:function(){return u},lE:function(){return p}});var l=a(2334);function r(e){return(0,l.Z)({url:"/system/outboundOrder",headers:{isToken:!0},method:"post",data:e})}function d(e){return(0,l.Z)({url:"/system/jade",headers:{isToken:!0},data:e,method:"put"})}function o(){return(0,l.Z)({url:"/system/outboundOrder/getOutboundOrderCode",headers:{isToken:!0},method:"get"})}function i(e,t,a,r,d){return(0,l.Z)({url:"/system/outboundOrder/list",headers:{isToken:!0},params:{pageNum:e,pageSize:t,orderCode:a,supplierId:r,desWarehouseId:d},method:"get"})}function n(e){return(0,l.Z)({url:"/api/image/crop",headers:{isToken:!0},data:e,method:"post"})}function u(e){return(0,l.Z)({url:"/system/jadeFeature/match",headers:{isToken:!0},data:e,method:"post"})}function s(e){return(0,l.Z)({url:"/api/image/feature",headers:{isToken:!0},data:e,method:"post"})}function m(e){return(0,l.Z)({url:"/system/jade/list",headers:{isToken:!0},params:{imageId:e},method:"get"})}function p(e,t){return(0,l.Z)({url:"/system/user/list",headers:{isToken:!0},method:"get",params:{pageNum:e,pageSize:t}})}},3896:function(e,t,a){a.d(t,{Aq:function(){return r},Hc:function(){return m},KF:function(){return d},eB:function(){return s},jR:function(){return n},pN:function(){return u},qL:function(){return o},x0:function(){return i}});var l=a(2334);function r(){return(0,l.Z)({url:"/system/warehouse/list",headers:{isToken:!0},method:"get"})}function d(e){return(0,l.Z)({url:"/system/warehouse",headers:{isToken:!0},method:"post",data:e})}function o(e){return(0,l.Z)({url:"/system/warehouse",headers:{isToken:!0},method:"put",data:e})}function i(e){return(0,l.Z)({url:"/system/warehouse/"+e,headers:{isToken:!0},method:"delete"})}function n(){return(0,l.Z)({url:"/system/storage/list",headers:{isToken:!0},method:"get"})}function u(e){return(0,l.Z)({url:"/system/storage",headers:{isToken:!0},method:"post",data:e})}function s(e){return(0,l.Z)({url:"/system/storage/"+e,headers:{isToken:!0},method:"delete"})}function m(e){return(0,l.Z)({url:"/system/storage",headers:{isToken:!0},method:"put",data:e})}},2900:function(e,t,a){a.d(t,{GI:function(){return u},Nu:function(){return i},Qu:function(){return o},S6:function(){return s},ZF:function(){return d},cr:function(){return r},dt:function(){return n},eT:function(){return m}});var l=a(2334);function r(e,t){return(0,l.Z)({url:"/system/basicClient/list",headers:{isToken:!0},method:"get",params:{pageNum:e,pageSize:t}})}function d(e){return(0,l.Z)({url:"/system/basicClient",headers:{isToken:!0},method:"post",data:e})}function o(e){return(0,l.Z)({url:"/system/basicClient",headers:{isToken:!0},method:"put",data:e})}function i(e){return(0,l.Z)({url:"/system/basicClient/"+e,headers:{isToken:!0},method:"delete"})}function n(e,t){return(0,l.Z)({url:"/system/supplier/list",headers:{isToken:!0},method:"get",params:{pageNum:e,pageSize:t}})}function u(e){return(0,l.Z)({url:"/system/supplier",headers:{isToken:!0},method:"post",data:e})}function s(e){return(0,l.Z)({url:"/system/supplier",headers:{isToken:!0},method:"put",data:e})}function m(e){return(0,l.Z)({url:"/system/supplier/"+e,headers:{isToken:!0},method:"delete"})}},4908:function(e,t,a){a.r(t),a.d(t,{default:function(){return W}});var l=a(3396),r=a(7139);const d=e=>((0,l.dD)("data-v-736cc41a"),e=e(),(0,l.Cn)(),e),o={class:"front"},i={class:"tail"},n={class:"tail-action"},u=d((()=>(0,l._)("div",{class:"no-data"},"暂无数据",-1))),s={class:"pagination"},m={class:"dialog-list"};function p(e,t,a,d,p,c){const h=(0,l.up)("el-input"),f=(0,l.up)("el-form-item"),w=(0,l.up)("el-option"),b=(0,l.up)("el-select"),g=(0,l.up)("el-button"),k=(0,l.up)("el-form"),W=(0,l.up)("el-collapse-item"),y=(0,l.up)("el-collapse"),C=(0,l.up)("el-table-column"),_=(0,l.up)("el-checkbox"),v=(0,l.up)("el-checkbox-group"),T=(0,l.up)("el-popover"),Z=(0,l.up)("el-table"),z=(0,l.up)("el-pagination"),S=(0,l.up)("el-descriptions-item"),D=(0,l.up)("el-descriptions"),U=(0,l.up)("el-drawer");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",o,[(0,l.Wm)(y,{modelValue:e.activeNames,"onUpdate:modelValue":t[4]||(t[4]=t=>e.activeNames=t),class:"front-collapse",onChange:t[5]||(t[5]=t=>{e.activeNames=!e.activeNames,"收起"==e.collapseName?e.collapseName="展开":e.collapseName="收起"}),style:{width:"100%"}},{default:(0,l.w5)((()=>[(0,l.Wm)(W,{title:e.collapseName,class:"collapse-1",name:"1"},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{model:e.searchForm,"label-width":"120px"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{label:"出库单号",class:"front-input"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{modelValue:e.searchForm.orderCode,"onUpdate:modelValue":t[0]||(t[0]=t=>e.searchForm.orderCode=t)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(f,{label:"货品条码",class:"front-input"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{modelValue:e.searchForm.jadeCode,"onUpdate:modelValue":t[1]||(t[1]=t=>e.searchForm.jadeCode=t)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(f,{label:"所属仓库",class:"front-input"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{modelValue:e.searchForm.desWarehouseId,"onUpdate:modelValue":t[2]||(t[2]=t=>e.searchForm.desWarehouseId=t),placeholder:"搜索匹配",style:{}},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.warehouseList,(e=>((0,l.wg)(),(0,l.j4)(w,{key:e.id,label:e.warehouseName,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,l.Wm)(f,{label:"供应商",class:"front-input"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{modelValue:e.searchForm.supplierId,"onUpdate:modelValue":t[3]||(t[3]=t=>e.searchForm.supplierId=t),placeholder:"搜索匹配",style:{},prop:"supplierId"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.supplierList,(e=>((0,l.wg)(),(0,l.j4)(w,{key:e.id,label:e.supplierName,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[(0,l.Wm)(g,{type:"primary",onClick:e.onSearch},{default:(0,l.w5)((()=>[(0,l.Uk)("查询")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])),_:1},8,["title"])])),_:1},8,["modelValue"])]),(0,l._)("div",i,[(0,l._)("div",n,[(0,l.Wm)(g,{type:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)("导出明细")])),_:1}),(0,l.Wm)(g,{type:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)("打印明细")])),_:1})]),(0,l.Wm)(Z,{data:e.tableData(),border:"",style:{width:"100%"},"max-height":"收起"==e.collapseName?400:700},{empty:(0,l.w5)((()=>[u])),default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.outboundDataColumn.data,(e=>((0,l.wg)(),(0,l.j4)(C,{prop:e.prop,"min-width":e.minWidth,width:e.width,"max-width":e.maxWidth,label:e.label},null,8,["prop","min-width","width","max-width","label"])))),256)),(0,l.Wm)(C,{width:"100px"},{header:(0,l.w5)((()=>[(0,l.Wm)(T,{placement:"bottom",trigger:"click"},{reference:(0,l.w5)((()=>[(0,l.Wm)(g,{size:"small"},{default:(0,l.w5)((()=>[(0,l.Uk)("显示设置")])),_:1})])),default:(0,l.w5)((()=>[(0,l.Wm)(v,{modelValue:e.selectedFilters.data,"onUpdate:modelValue":t[6]||(t[6]=t=>e.selectedFilters.data=t)},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.tableFilter.data,(t=>((0,l.wg)(),(0,l.j4)(_,{label:t.label,onChange:e.filterColumns,disabled:t.isdisabled},null,8,["label","onChange","disabled"])))),256))])),_:1},8,["modelValue"])])),_:1})])),default:(0,l.w5)((t=>[(0,l.Wm)(g,{link:"",type:"primary",size:"small",onClick:a=>e.openDetails(t.row)},{default:(0,l.w5)((()=>[(0,l.Uk)("查看明细")])),_:2},1032,["onClick"]),(0,l.Wm)(g,{link:"",type:"primary",size:"small"},{default:(0,l.w5)((()=>[(0,l.Uk)("编辑备注")])),_:1})])),_:1})])),_:1},8,["data","max-height"]),(0,l._)("div",s,[(0,l.Wm)(z,{"current-page":e.data.page,"onUpdate:currentPage":t[7]||(t[7]=t=>e.data.page=t),"page-size":e.data.limit,"onUpdate:pageSize":t[8]||(t[8]=t=>e.data.limit=t),layout:"prev, pager, next ,total,sizes",total:e.data.total,onCurrentChange:e.handleCurrentChange,onSizeChange:e.handleSizeChange},null,8,["current-page","page-size","total","onCurrentChange","onSizeChange"])])]),(0,l._)("div",m,[(0,l._)("div",null,[(0,l.Wm)(U,{modelValue:e.drawer,"onUpdate:modelValue":t[9]||(t[9]=t=>e.drawer=t),direction:e.direction,size:"35%"},{default:(0,l.w5)((()=>[(0,l.Wm)(D,{border:"",size:"large",direction:"vertical",title:"出库单详情"},{default:(0,l.w5)((()=>[(0,l.Wm)(S,{label:"出库单号"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.rowDetails.orderCode),1)])),_:1}),(0,l.Wm)(S,{label:"数量"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.rowDetails.jadeWeight),1)])),_:1}),(0,l.Wm)(S,{label:"供应商",width:"150"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.rowDetails.supplierName),1)])),_:1}),(0,l.Wm)(S,{label:"客户名字"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.rowDetails.clientName),1)])),_:1}),(0,l.Wm)(S,{label:"仓位名字",width:"150"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.rowDetails.storageName),1)])),_:1}),(0,l.Wm)(S,{label:"仓库名字"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.rowDetails.warehouseName),1)])),_:1}),(0,l.Wm)(S,{label:"入库时间"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.rowDetails.createTime),1)])),_:1}),(0,l.Wm)(S,{label:"添加人"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.rowDetails.createBy),1)])),_:1}),(0,l.Wm)(S,{label:"修改时间"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.rowDetails.updateTime),1)])),_:1}),(0,l.Wm)(S,{label:"修改人"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.rowDetails.updateBy),1)])),_:1})])),_:1})])),_:1},8,["modelValue","direction"])])])],64)}a(7658);var c=a(4870),h=a(5541),f=a(2900),w=a(3896),b=(0,l.aZ)({name:"HomeView",components:{},setup(){const e=(0,c.iH)({}),t=(0,c.iH)(!1),a=(0,c.qj)({jadeCode:"",orderCode:"",barcode:"",supplierId:"",desWarehouseId:"",count:0}),r=(0,c.iH)([]),d=(0,c.iH)([]),o=(0,c.iH)([]),i=(0,c.iH)([]),n=(0,c.qj)({data:[]}),u=(0,c.qj)({data:[]}),s=(0,c.qj)({data:[{label:"出库单单号",prop:"orderCode",width:"230",isdisabled:!0,isSelected:!0},{label:"数量",prop:"jadeWeight",width:"60",isSelected:!0},{label:"出库类型",prop:"orderType",width:"100",isdisabled:!0,isSelected:!0},{label:"出库人员",prop:"processorId",width:"100",isdisabled:!0,isSelected:!0},{label:"出库客户",prop:"clientId",width:"100",isdisabled:!0,isSelected:!0},{label:"出库总销售价",prop:"jadeSoldPrice",width:"110",isdisabled:!0,isSelected:!0},{label:"到期时间",prop:"validDate",minWidth:"100",isdisabled:!0,isSelected:!0},{label:"出库时间",prop:"createTime",minWidth:"100",isdisabled:!0,isSelected:!0},{label:"备注",prop:"remark",minWidth:"80",maxWidth:"80",isSelected:!0},{label:"测试1",prop:"test1",minWidth:"80",maxWidth:"80",isSelected:!1},{label:"测试2",prop:"test2",minWidth:"80",maxWidth:"80",isSelected:!1}]}),m=(0,c.iH)("展开"),p=(0,c.iH)(!1),b=(0,c.qj)({data:{page:1,limit:10,total:r.value.length}}),g=()=>r.value,k=e=>{b.data.page=e},W=e=>{b.data.limit=e},y=(e,t)=>{(0,h.Qf)(e,t).then((e=>{r.value=e.rows,b.data.total=e.total}))};(0,l.wF)((()=>{y(b.data.page,b.data.limit),(0,f.dt)().then((e=>{d.value=e.rows})),(0,w.Aq)().then((e=>{i.value=e.rows}))})),(0,l.bv)((()=>{s.data.forEach((function(e,t){e.isSelected&&(n.data.push(e.label),u.data.push(e))}))}));const C=()=>{(0,h.Qf)(b.data.page,b.data.limit,a.orderCode,a.supplierId,a.desWarehouseId).then((e=>{r.value=e.rows,b.data.total=e.total}))},_=()=>{let e=[];s.data.forEach((t=>{n.data.forEach((a=>{t.label==a&&e.push(t)}))})),u.data=e},v=a=>{t.value=!0,e.value=a};return{outboundOrderData:r,clientList:o,supplierList:d,searchForm:a,rowDetails:e,drawer:t,warehouseList:i,supplierList:d,collapseName:m,activeNames:p,outboundDataColumn:u,selectedFilters:n,tableFilter:s,tableData:g,filterColumns:_,handleCurrentChange:k,openDetails:v,onSearch:C,handleSizeChange:W,handleGetOutboundOrderList:y,...(0,c.BK)(b)}}}),g=a(89);const k=(0,g.Z)(b,[["render",p],["__scopeId","data-v-736cc41a"]]);var W=k}}]);
//# sourceMappingURL=908.1416b144.js.map