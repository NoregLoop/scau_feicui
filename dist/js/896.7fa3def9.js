"use strict";(self["webpackChunkERP"]=self["webpackChunkERP"]||[]).push([[896],{2900:function(e,l,t){t.d(l,{GI:function(){return r},Nu:function(){return d},Qu:function(){return o},S6:function(){return u},ZF:function(){return i},cr:function(){return n},dt:function(){return m},eT:function(){return c}});var a=t(2334);function n(e,l){return(0,a.Z)({url:"/system/basicClient/list",headers:{isToken:!0},method:"get",params:{pageNum:e,pageSize:l}})}function i(e){return(0,a.Z)({url:"/system/basicClient",headers:{isToken:!0},method:"post",data:e})}function o(e){return(0,a.Z)({url:"/system/basicClient",headers:{isToken:!0},method:"put",data:e})}function d(e){return(0,a.Z)({url:"/system/basicClient/"+e,headers:{isToken:!0},method:"delete"})}function m(e,l){return(0,a.Z)({url:"/system/supplier/list",headers:{isToken:!0},method:"get",params:{pageNum:e,pageSize:l}})}function r(e){return(0,a.Z)({url:"/system/supplier",headers:{isToken:!0},method:"post",data:e})}function u(e){return(0,a.Z)({url:"/system/supplier",headers:{isToken:!0},method:"put",data:e})}function c(e){return(0,a.Z)({url:"/system/supplier/"+e,headers:{isToken:!0},method:"delete"})}},5896:function(e,l,t){t.r(l),t.d(l,{default:function(){return W}});var a=t(3396);const n={class:"front"},i={class:"tail"},o={class:"tail-action"},d={class:"pagination"},m={class:"dialog-list"},r={class:"dialog-footer"},u={class:"dialog-footer"};function c(e,l,t,c,s,p){const h=(0,a.up)("el-input"),f=(0,a.up)("el-form-item"),V=(0,a.up)("el-form"),g=(0,a.up)("el-button"),w=(0,a.up)("el-table-column"),W=(0,a.up)("el-table"),b=(0,a.up)("el-pagination"),C=(0,a.up)("el-dialog");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",n,[(0,a.Wm)(V,{model:e.searchForm,"label-width":"120px"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{class:"input",label:"客户名字"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:e.searchForm.name,"onUpdate:modelValue":l[0]||(l[0]=l=>e.searchForm.name=l)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"]),(0,a.Wm)(g,{class:"search",type:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("查询")])),_:1})]),(0,a._)("div",i,[(0,a._)("div",o,[(0,a.Wm)(g,{type:"primary",onClick:l[1]||(l[1]=l=>e.dialogVisible1=!0)},{default:(0,a.w5)((()=>[(0,a.Uk)("新增客户")])),_:1})]),(0,a.Wm)(W,{data:e.tableData(),border:"",style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{prop:"clientCode",label:"客户编码","min-width":"60"}),(0,a.Wm)(w,{prop:"clientName",label:"客户名称","min-width":"60"}),(0,a.Wm)(w,{prop:"contactPerson",label:"联系人","min-width":"60"}),(0,a.Wm)(w,{prop:"clientType",label:"客户类型","min-width":"60"}),(0,a.Wm)(w,{prop:"lendMoneyLimit",label:"出借金额上限","min-width":"60"}),(0,a.Wm)(w,{prop:"lendAmountLimit",label:"出借数量上限","min-width":"60"}),(0,a.Wm)(w,{prop:"address",label:"地址","min-width":"60"}),(0,a.Wm)(w,{prop:"telephone",label:"手机号","min-width":"60"}),(0,a.Wm)(w,{prop:"createTime",label:"创建时间","min-width":"60"}),(0,a.Wm)(w,{prop:"remark",label:"备注","min-width":"60"}),(0,a.Wm)(w,{fixed:"right",label:"Operations","min-width":"60"},{default:(0,a.w5)((l=>[(0,a.Wm)(g,{link:"",type:"primary",size:"small",onClick:t=>e.handleOpenEdit(l.row)},{default:(0,a.w5)((()=>[(0,a.Uk)("编辑")])),_:2},1032,["onClick"]),(0,a.Wm)(g,{link:"",type:"primary",size:"small",onClick:t=>e.handleDeleteRole(l.row.id)},{default:(0,a.w5)((()=>[(0,a.Uk)("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,a._)("div",d,[(0,a.Wm)(b,{"current-page":e.data.page,"onUpdate:currentPage":l[2]||(l[2]=l=>e.data.page=l),"page-size":e.data.limit,"onUpdate:pageSize":l[3]||(l[3]=l=>e.data.limit=l),layout:"prev, pager, next ,total,sizes",total:e.data.total,onCurrentChange:e.handleCurrentChange,onSizeChange:e.handleSizeChange},null,8,["current-page","page-size","total","onCurrentChange","onSizeChange"])])]),(0,a._)("div",m,[(0,a.Wm)(C,{modelValue:e.dialogVisible1,"onUpdate:modelValue":l[14]||(l[14]=l=>e.dialogVisible1=l),title:"新建客户",width:"30%","close-on-click-modal":!0,"show-close":!1},{footer:(0,a.w5)((()=>[(0,a._)("span",r,[(0,a.Wm)(g,{onClick:l[13]||(l[13]=l=>e.dialogVisible1=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)("取消")])),_:1}),(0,a.Wm)(g,{type:"primary",onClick:e.handleAddClient},{default:(0,a.w5)((()=>[(0,a.Uk)(" 确认 ")])),_:1},8,["onClick"])])])),default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a.Wm)(V,{model:e.clientForm,"label-width":"120px",rules:e.clientRules},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{label:"客户编码",prop:"clientCode",required:!0},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:e.clientForm.clientCode,"onUpdate:modelValue":l[4]||(l[4]=l=>e.clientForm.clientCode=l)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(f,{label:"客户名字",prop:"clientName",required:!0},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:e.clientForm.clientName,"onUpdate:modelValue":l[5]||(l[5]=l=>e.clientForm.clientName=l)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(f,{label:"备注",required:!0},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:e.clientForm.remark,"onUpdate:modelValue":l[6]||(l[6]=l=>e.clientForm.remark=l)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(f,{label:"手机号",required:!0},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:e.clientForm.telephone,"onUpdate:modelValue":l[7]||(l[7]=l=>e.clientForm.telephone=l)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(f,{label:"联系人",required:!0},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:e.clientForm.contactPerson,"onUpdate:modelValue":l[8]||(l[8]=l=>e.clientForm.contactPerson=l)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(f,{label:"客户类型",required:!0},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:e.clientForm.clientType,"onUpdate:modelValue":l[9]||(l[9]=l=>e.clientForm.clientType=l)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(f,{label:"出借金额上限",required:!0},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:e.clientForm.lendMoneyLimit,"onUpdate:modelValue":l[10]||(l[10]=l=>e.clientForm.lendMoneyLimit=l)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(f,{label:"出借数量上限",required:!0},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:e.clientForm.lendAmountLimit,"onUpdate:modelValue":l[11]||(l[11]=l=>e.clientForm.lendAmountLimit=l)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(f,{label:"地址",required:!0},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:e.clientForm.address,"onUpdate:modelValue":l[12]||(l[12]=l=>e.clientForm.address=l)},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])])),_:1},8,["modelValue"]),(0,a.Wm)(C,{modelValue:e.dialogVisible2,"onUpdate:modelValue":l[23]||(l[23]=l=>e.dialogVisible2=l),title:"编辑仓位",width:"30%","before-close":e.handleClose,"show-close":!1},{footer:(0,a.w5)((()=>[(0,a._)("span",u,[(0,a.Wm)(g,{onClick:l[22]||(l[22]=l=>e.dialogVisible2=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)("取消")])),_:1}),(0,a.Wm)(g,{type:"primary",onClick:e.handleUpdateClient},{default:(0,a.w5)((()=>[(0,a.Uk)(" 确认 ")])),_:1},8,["onClick"])])])),default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a.Wm)(V,{model:e.clientForm,"label-width":"120px"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{label:"客户编码",prop:"clientCode",required:!0},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:e.clientForm.clientCode,"onUpdate:modelValue":l[15]||(l[15]=l=>e.clientForm.clientCode=l)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(f,{label:"客户名字",prop:"clientName",required:!0},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:e.clientForm.clientName,"onUpdate:modelValue":l[16]||(l[16]=l=>e.clientForm.clientName=l)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(f,{label:"备注",required:!0},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:e.clientForm.remark,"onUpdate:modelValue":l[17]||(l[17]=l=>e.clientForm.remark=l)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(f,{label:"手机号",required:!0},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:e.clientForm.telephone,"onUpdate:modelValue":l[18]||(l[18]=l=>e.clientForm.telephone=l)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(f,{label:"出借金额上限",required:!0},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:e.clientForm.lendMoneyLimit,"onUpdate:modelValue":l[19]||(l[19]=l=>e.clientForm.lendMoneyLimit=l)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(f,{label:"出借数量上限",required:!0},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:e.clientForm.lendAmountLimit,"onUpdate:modelValue":l[20]||(l[20]=l=>e.clientForm.lendAmountLimit=l)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(f,{label:"地址",required:!0},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:e.clientForm.address,"onUpdate:modelValue":l[21]||(l[21]=l=>e.clientForm.address=l)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])])),_:1},8,["modelValue","before-close"])])],64)}var s=t(4870),p=t(2655),h=t(7178),f=t(2900),V=(0,a.aZ)({name:"UserRole",components:{},setup(){let e=(0,s.qj)({data:[]});const l=(0,s.qj)({clientName:"",clientCode:"",remark:"",status:0,clientType:"",createTime:"",lendMoneyLimit:"",lendAmountLimit:"",telephone:"",address:"",contactPerson:"",deptId:"1",id:""}),t=(0,s.qj)({name:""});let n=(0,s.iH)(!1);const i=(0,s.iH)(!1),o=(0,s.qj)({clientName:[{required:!0,message:"请输入内容",trigger:"blur"},{min:3,max:10,message:"账号长度 在 3 到 10长度之间",trigger:"blur"}],clientCode:[{required:!0,message:"请输入内容",trigger:"blur"},{min:3,max:10,message:"账号长度 在 3 到 10长度之间",trigger:"blur"}]});let d=(0,s.qj)({data:{page:1,limit:10,total:e.data.length}});const m=(e,l)=>l.status==e;(0,a.bv)((()=>{r(d.data.page,d.data.limit)}));const r=(l,t)=>{(0,f.cr)(l,t).then((l=>{e.data=l.rows,d.data.total=l.total}))},u=()=>e.data,c=e=>{d.page=e,r(e,d.data.limit)},V=e=>{d.limit=e,r(d.data.page,e)},g=()=>{p.T.confirm("确认提交?").then((()=>{(0,f.ZF)(l).then((()=>{n.value=!1,r(d.data.page,d.data.limit)}))})).catch((()=>{}))},w=e=>{p.T.confirm("是否要删除该用户?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(0,f.Nu)(e).then((()=>{r(d.data.page,d.data.limit),(0,h.z8)({type:"success",message:"删除成功"})}))})).catch((()=>{(0,h.z8)({type:"info",message:"取消操作"})}))},W=e=>{i.value=!0,l.clientCode=e.clientCode,l.clientName=e.clientName,l.remark=e.remark,l.maxCap=e.maxCap,l.id=e.id},b=()=>{p.T.confirm("确认提交?").then((()=>{(0,f.Qu)(l).then((()=>{i.value=!1,r(d.data.page,d.data.limit)}))})).catch((()=>{}))},C=e=>{p.T.confirm("确认提交?").then((()=>{done()})).catch((()=>{}))};return{clientData:e,dialogVisible1:n,dialogVisible2:i,searchForm:t,clientForm:l,clientRules:o,tableData:u,filterTag:m,handleCurrentChange:c,handleSizeChange:V,handleClose:C,handleDeleteRole:w,handleAddClient:g,handleGetClientList:r,handleUpdateClient:b,handleOpenEdit:W,...(0,s.BK)(d)}}}),g=t(89);const w=(0,g.Z)(V,[["render",c],["__scopeId","data-v-83cc22e4"]]);var W=w}}]);
//# sourceMappingURL=896.7fa3def9.js.map