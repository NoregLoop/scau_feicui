{"version":3,"file":"js/48.5decbbb7.js","mappings":"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","sources":["webpack://ERP/./src/api/setting.js","webpack://ERP/./src/views/setting/storage.vue","webpack://ERP/./src/views/setting/storage.vue?c945"],"sourcesContent":["import request from '@/utils/request'\r\n\r\n\r\n\r\nexport function getWarehouseList() {//获取仓库列表\r\n    return request({\r\n        url: '/system/warehouse/list',\r\n        headers: {\r\n            isToken: true\r\n        },\r\n        method: 'get',\r\n    })\r\n}\r\nexport function addWarehouse(warehouseForm) {//添加仓库\r\n    return request({\r\n        url: '/system/warehouse',\r\n        headers: {\r\n            isToken: true\r\n        },\r\n        method: 'post',\r\n        data: warehouseForm\r\n    })\r\n}\r\nexport function updateWarehouse(warehouseForm) {//编辑仓库\r\n    return request({\r\n        url: '/system/warehouse',\r\n        headers: {\r\n            isToken: true\r\n        },\r\n        method: 'put',\r\n        data: warehouseForm\r\n        // params:{\r\n        //     userId\r\n        // }\r\n    })\r\n}\r\nexport function deleteWarehouse(warehouseId) {//删除仓库\r\n    return request({\r\n        url: '/system/warehouse/' + warehouseId,\r\n        headers: {\r\n            isToken: true\r\n        },\r\n        method: 'delete',\r\n        // params:{\r\n        //     userId\r\n        // }\r\n    })\r\n}\r\n\r\nexport function getStorageList() {//获取仓位列表\r\n    return request({\r\n        url: '/system/storage/list',\r\n        headers: {\r\n            isToken: true\r\n        },\r\n        method: 'get',\r\n    })\r\n}\r\nexport function addStorage(storageForm) {//添加仓位\r\n    return request({\r\n        url: '/system/storage',\r\n        headers: {\r\n            isToken: true\r\n        },\r\n        method: 'post',\r\n        data: storageForm\r\n    })\r\n}\r\nexport function deleteStorage(storageId) {//删除用户\r\n    return request({\r\n        url: '/system/storage/' + storageId,\r\n        headers: {\r\n            isToken: true\r\n        },\r\n        method: 'delete',\r\n        // params:{\r\n        //     userId\r\n        // }\r\n    })\r\n}\r\nexport function updateStorage(storageForm) {//编辑仓位\r\n    return request({\r\n        url: '/system/storage',\r\n        headers: {\r\n            isToken: true\r\n        },\r\n        method: 'put',\r\n        data: storageForm\r\n        // params:{\r\n        //     userId\r\n        // }\r\n    })\r\n}","<template>\r\n    <div class=\"front\">\r\n        <el-form :model=\"searchForm\" label-width=\"120px\">\r\n            <el-form-item class=\"input\" label=\"仓位名字\">\r\n                <el-input v-model=\"searchForm.name\" />\r\n            </el-form-item>\r\n        </el-form>\r\n        <el-button class=\"search\" type=\"primary\">查询</el-button>\r\n    </div>\r\n\r\n\r\n    <div class=\"tail\">\r\n        <div class=\"tail-action\">\r\n            <el-button type=\"primary\" @click=\"dialogVisible1 = true\">新增仓位</el-button>\r\n        </div>\r\n        <el-table :data=\"tableData()\" border style=\"width: 100%\">\r\n            <el-table-column prop=\"storageCode\" label=\"仓位编码\" min-width=\"60\" />\r\n            <el-table-column prop=\"storageName\" label=\"仓位名字\" min-width=\"60\" />\r\n            <el-table-column prop=\"createBy\" label=\"创建人\" min-width=\"60\" />\r\n            <el-table-column prop=\"createTime\" label=\"创建时间\" min-width=\"60\" />\r\n            <el-table-column prop=\"remark\" label=\"备注\" min-width=\"60\" />\r\n            <el-table-column prop=\"status\" label=\"状态\" min-width=\"80\" :filters=\"[\r\n                { text: '启用', value: 1 },\r\n                { text: '停用', value: 0 },\r\n            ]\" :filter-method=\"filterTag\" filter-placement=\"bottom-end\">\r\n                <template #default=\"scope\">\r\n                    <el-tag :type=\"scope.row.status == 1 ? 'success' : 'danger'\" disable-transitions>{{\r\n                        scope.row.status == 1 ? '启用' : '停用' }}</el-tag>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column fixed=\"right\" label=\"Operations\" min-width=\"60\">\r\n                <template #default=\"scope\">\r\n                    <el-button link type=\"primary\" size=\"small\" @click=\"handleOpenEdit(scope.row)\">编辑</el-button>\r\n                    <el-button link type=\"primary\" size=\"small\" @click=\"handleDeleteRole(scope.row.id)\">删除</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <div class=\"pagination\">\r\n            <el-pagination v-model:current-page=\"data.page\" v-model:page-size=\"data.limit\"\r\n                layout=\"prev, pager, next ,total,sizes\" :total=\"data.total\" @current-change=\"handleCurrentChange\"\r\n                @size-change=\"handleSizeChange\" />\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"dialog-list\">\r\n        <el-dialog v-model=\"dialogVisible1\" title=\"新建仓位\" width=\"30%\" :close-on-click-modal=\"true\" :show-close=\"false\">\r\n            <div>\r\n                <el-form :model=\"storageForm\" label-width=\"120px\" :rules=\"storageRules\">\r\n                    <el-form-item label=\"仓位编码\" prop=\"storageCode\" :required=\"true\">\r\n                        <el-input v-model=\"storageForm.storageCode\" />\r\n                    </el-form-item>\r\n                    <el-form-item label=\"仓位名字\" prop=\"storageName\" :required=\"true\">\r\n                        <el-input v-model=\"storageForm.storageName\" />\r\n                    </el-form-item>\r\n                    <el-form-item label=\"备注\" :required=\"true\">\r\n                        <el-input v-model=\"storageForm.remark\" />\r\n                    </el-form-item>\r\n                    <el-form-item label=\"最大容量\" :required=\"true\">\r\n                        <el-input v-model=\"storageForm.maxCap\" />\r\n                    </el-form-item>\r\n                </el-form>\r\n            </div>\r\n            <template #footer>\r\n                <span class=\"dialog-footer\">\r\n                    <el-button @click=\"dialogVisible1 = false\">取消</el-button>\r\n                    <el-button type=\"primary\" @click=\"handleAddStorage\">\r\n                        确认\r\n                    </el-button>\r\n                </span>\r\n            </template>\r\n        </el-dialog>\r\n\r\n        <el-dialog v-model=\"dialogVisible2\" title=\"编辑仓位\" width=\"30%\" :before-close=\"handleClose\" :show-close=\"false\">\r\n            <div>\r\n                <el-form :model=\"storageForm\" label-width=\"120px\">\r\n                    <el-form-item label=\"仓位编码\" prop=\"storageCode\" :required=\"true\">\r\n                        <el-input v-model=\"storageForm.storageCode\" />\r\n                    </el-form-item>\r\n                    <el-form-item label=\"仓位名字\" prop=\"storageName\" :required=\"true\">\r\n                        <el-input v-model=\"storageForm.storageName\" />\r\n                    </el-form-item>\r\n                    <el-form-item label=\"备注\" :required=\"true\">\r\n                        <el-input v-model=\"storageForm.remark\" />\r\n                    </el-form-item>\r\n                    <el-form-item label=\"最大容量\" :required=\"true\">\r\n                        <el-input v-model=\"storageForm.maxCap\" />\r\n                    </el-form-item>\r\n                </el-form>\r\n            </div>\r\n            <template #footer>\r\n                <span class=\"dialog-footer\">\r\n                    <el-button @click=\"dialogVisible2 = false\">取消</el-button>\r\n                    <el-button type=\"primary\" @click=\"handleUpdateStorage\">\r\n                        确认\r\n                    </el-button>\r\n                </span>\r\n            </template>\r\n        </el-dialog>\r\n\r\n    </div>\r\n</template>\r\n       \r\n<script >\r\nimport { ref, defineComponent, reactive, toRefs, } from \"vue\";\r\nimport { ElMessageBox, ElMessage } from 'element-plus'\r\nimport { onMounted } from \"vue\";\r\nimport { getStorageList, addStorage, deleteStorage, updateStorage } from '@/api/setting'\r\n\r\nexport default defineComponent({\r\n    name: \"UserRole\",\r\n    components: {},\r\n\r\n    setup() {\r\n        let storageData = reactive({\r\n            data: [],\r\n        });\r\n        const storageForm = reactive({\r\n            storageName: '',\r\n            storageCode: '',\r\n            remark: '',\r\n            status: 0,\r\n            maxCap: '',\r\n            deptId: \"1\",\r\n            id:'',\r\n        });\r\n        const searchForm = reactive({\r\n            name: '',\r\n\r\n        });\r\n        let dialogVisible1 = ref(false)\r\n        const dialogVisible2 = ref(false)\r\n        const storageRules = reactive({\r\n            storageName: [{ required: true, message: '请输入内容', trigger: 'blur' },\r\n            { min: 3, max: 10, message: '账号长度 在 3 到 10长度之间', trigger: 'blur' }],\r\n            storageCode: [{ required: true, message: '请输入内容', trigger: 'blur' },\r\n            { min: 3, max: 10, message: '账号长度 在 3 到 10长度之间', trigger: 'blur' }],\r\n        });\r\n\r\n\r\n        //表格用到的参数\r\n        let state = reactive({\r\n            data: {\r\n                page: 1,\r\n                limit: 10,\r\n                total: storageData.data.length,\r\n            }\r\n        });\r\n\r\n        const filterTag = (value, row) => {\r\n            return row.status == value\r\n        }\r\n        onMounted(() => {\r\n            handleGetStorageList(state.data.page, state.data.limit)\r\n        })\r\n\r\n\r\n        const handleGetStorageList = (page, limit) => {\r\n            getStorageList(page, limit).then((res) => {\r\n                storageData.data = res.rows\r\n                state.data.total = res.total\r\n            })\r\n        }\r\n        const tableData = () => {\r\n            return storageData.data\r\n        };\r\n        //改变页码\r\n        const handleCurrentChange = (e) => {\r\n            state.page = e;\r\n            handleGetStorageList(e, state.data.limit)\r\n        };\r\n        //改变页数限制\r\n        const handleSizeChange = (e) => {\r\n            state.limit = e;\r\n            handleGetStorageList(state.data.page, e)\r\n        };\r\n\r\n        //添加仓位\r\n        const handleAddStorage = () => {\r\n            ElMessageBox.confirm('确认提交?')\r\n                .then(() => {\r\n                    addStorage(storageForm).then(() => {\r\n                        dialogVisible1.value = false\r\n                        handleGetStorageList(state.data.page, state.data.limit)\r\n                    })\r\n                })\r\n                .catch(() => {\r\n                    // catch error\r\n                })\r\n\r\n        }\r\n\r\n        const handleDeleteRole = (storageId) => { //删除仓位\r\n            ElMessageBox.confirm(\r\n                '是否要删除该仓位?',\r\n                '提示',\r\n                {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning',\r\n                }\r\n            )\r\n                .then(() => {\r\n                    deleteStorage(storageId).then(() => {\r\n                        handleGetStorageList(state.data.page, state.data.limit)\r\n                        ElMessage({\r\n                            type: 'success',\r\n                            message: '删除成功',\r\n                        })\r\n                    })\r\n                }).catch(() => {\r\n                    ElMessage({\r\n                        type: 'info',\r\n                        message: '取消操作',\r\n                    })\r\n                })\r\n        }\r\n\r\n        const handleOpenEdit = (data) => { //打开编辑仓位\r\n            dialogVisible2.value = true\r\n            storageForm.storageCode = data.storageCode\r\n            storageForm.storageName = data.storageName\r\n            storageForm.remark = data.remark\r\n            storageForm.maxCap = data.maxCap\r\n            storageForm.id = data.id\r\n        }\r\n\r\n        const handleUpdateStorage = () => {  //编辑仓位\r\n            ElMessageBox.confirm('确认提交?')\r\n                .then(() => {\r\n                    updateStorage(storageForm).then(() => {\r\n                        dialogVisible2.value = false\r\n                        handleGetStorageList(state.data.page, state.data.limit)\r\n                    })\r\n                })\r\n                .catch(() => {\r\n                    // catch error\r\n                })\r\n        }\r\n        const handleClose = (e) => { //提交表单\r\n            ElMessageBox.confirm('确认提交?')\r\n                .then(() => {\r\n                    done()\r\n                })\r\n                .catch(() => {\r\n                    // catch error\r\n                })\r\n        }\r\n\r\n        return {\r\n            storageData,\r\n            dialogVisible1,\r\n            dialogVisible2,\r\n            searchForm,\r\n            storageForm,\r\n            storageRules,\r\n            tableData, filterTag,\r\n            handleCurrentChange,\r\n            handleSizeChange,\r\n            handleClose,\r\n            handleDeleteRole, handleAddStorage, handleGetStorageList,handleUpdateStorage,\r\n            handleOpenEdit,\r\n            ...toRefs(state),\r\n        };\r\n    },\r\n});\r\n</script>\r\n      \r\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\r\n.front {\r\n    background-color: #fff;\r\n    padding: 10px;\r\n    display: flex;\r\n\r\n    .input {\r\n        float: left;\r\n    }\r\n\r\n    .search {\r\n        margin-left: 50px;\r\n    }\r\n}\r\n\r\n.center {\r\n    margin: 10px;\r\n}\r\n\r\n.form-add-checkbox {\r\n    width: 200px;\r\n    height: 260px;\r\n    display: block;\r\n    border: solid 1px #c9c9c9;\r\n\r\n    .form-add-checkbox-item {\r\n        width: 180px;\r\n        margin: auto;\r\n    }\r\n}\r\n\r\n.tail {\r\n    background-color: #fff;\r\n    margin-top: 40px;\r\n    padding: 10px;\r\n\r\n    .tail-action {\r\n        margin-bottom: 10px;\r\n        display: flex;\r\n    }\r\n}\r\n</style>","import { render } from \"./storage.vue?vue&type=template&id=0cb51b9c&scoped=true\"\nimport script from \"./storage.vue?vue&type=script&lang=js\"\nexport * from \"./storage.vue?vue&type=script&lang=js\"\n\nimport \"./storage.vue?vue&type=style&index=0&id=0cb51b9c&rel=stylesheet%2Fscss&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\devprojects\\\\VsProjects\\\\Tobacco\\\\scau-feicui\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0cb51b9c\"]])\n\nexport default __exports__"],"names":["getWarehouseList","request","url","headers","isToken","method","addWarehouse","warehouseForm","data","updateWarehouse","deleteWarehouse","warehouseId","getStorageList","addStorage","storageForm","deleteStorage","storageId","updateStorage","class","_createElementVNode","_hoisted_1","_createVNode","_component_el_form","model","_ctx","searchForm","_component_el_form_item","label","_component_el_input","name","$event","_component_el_button","type","_hoisted_2","_hoisted_3","onClick","_cache","dialogVisible1","_component_el_table","tableData","border","style","_component_el_table_column","prop","filters","filterTag","default","_withCtx","scope","_component_el_tag","row","status","fixed","link","size","handleOpenEdit","handleDeleteRole","id","_hoisted_4","_component_el_pagination","page","limit","layout","total","onCurrentChange","handleCurrentChange","onSizeChange","handleSizeChange","_hoisted_5","_component_el_dialog","title","width","footer","_hoisted_6","handleAddStorage","rules","storageRules","required","storageCode","storageName","remark","maxCap","dialogVisible2","handleClose","_hoisted_7","handleUpdateStorage","defineComponent","components","setup","storageData","reactive","deptId","ref","message","trigger","min","max","state","length","value","onMounted","handleGetStorageList","then","res","rows","e","ElMessageBox","catch","confirmButtonText","cancelButtonText","ElMessage","done","toRefs","__exports__","render"],"sourceRoot":""}