"use strict";(self["webpackChunkERP"]=self["webpackChunkERP"]||[]).push([[128],{5541:function(e,l,a){a.d(l,{B7:function(){return s},Bc:function(){return r},OE:function(){return d},Qf:function(){return u},Sp:function(){return i},Yp:function(){return m},eN:function(){return o},iF:function(){return n},lE:function(){return p}});var t=a(2334);function o(e){return(0,t.Z)({url:"/system/outboundOrder",headers:{isToken:!0},method:"post",data:e})}function i(e){return(0,t.Z)({url:"/system/jade",headers:{isToken:!0},data:e,method:"put"})}function d(){return(0,t.Z)({url:"/system/outboundOrder/getOutboundOrderCode",headers:{isToken:!0},method:"get"})}function u(e,l,a,o,i){return(0,t.Z)({url:"/system/outboundOrder/list",headers:{isToken:!0},params:{pageNum:e,pageSize:l,orderCode:a,supplierId:o,desWarehouseId:i},method:"get"})}function r(e){return(0,t.Z)({url:"/api/image/crop",headers:{isToken:!0},data:e,method:"post"})}function n(e){return(0,t.Z)({url:"/system/jadeFeature/match",headers:{isToken:!0},data:e,method:"post"})}function s(e){return(0,t.Z)({url:"/api/image/feature",headers:{isToken:!0},data:e,method:"post"})}function m(e){return(0,t.Z)({url:"/system/jade/list",headers:{isToken:!0},params:{imageId:e},method:"get"})}function p(e,l){return(0,t.Z)({url:"/system/user/list",headers:{isToken:!0},method:"get",params:{pageNum:e,pageSize:l}})}},4128:function(e,l,a){a.r(l),a.d(l,{default:function(){return j}});var t=a(3396),o=a(7139),i=a(5941);const d=e=>((0,t.dD)("data-v-170b274a"),e=e(),(0,t.Cn)(),e),u={class:"front"},r={class:"front-left"},n={class:"front-right"},s={class:"right-photo"},m={key:0,ref:"videoElement",class:"rigth-video",autoplay:""},p={ref:"canvasElement",class:"right-img"},c={class:"right-action"},h={class:"tail"},w={class:"tail-input"},b={class:"tail-action"},g=d((()=>(0,t._)("div",{class:"no-data"},"暂无数据",-1))),f={class:"pagination"},v={class:"optionView"},k={class:"image-miss"},_=d((()=>(0,t._)("div",null,"请勾选需要出库的对象然后选择确认",-1)));function W(e,l,a,d,W,y){const U=(0,t.up)("el-radio"),S=(0,t.up)("el-radio-group"),C=(0,t.up)("el-option"),z=(0,t.up)("el-select"),V=(0,t.up)("el-form-item"),D=(0,t.up)("el-input"),x=(0,t.up)("el-form"),F=(0,t.up)("el-button"),I=(0,t.up)("el-upload"),j=(0,t.up)("el-image"),H=(0,t.up)("el-table-column"),T=(0,t.up)("el-checkbox"),P=(0,t.up)("el-checkbox-group"),q=(0,t.up)("el-popover"),E=(0,t.up)("el-table"),O=(0,t.up)("el-pagination"),Z=(0,t.up)("el-descriptions-item"),L=(0,t.up)("el-tag"),R=(0,t.up)("el-descriptions"),B=(0,t.up)("el-dialog");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",u,[(0,t._)("div",r,[(0,t.Wm)(S,{class:"front-select",modelValue:e.outboundForm.outboundType,"onUpdate:modelValue":l[0]||(l[0]=l=>e.outboundForm.outboundType=l),onChange:e.changeOutboundType},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{label:1,size:"large"},{default:(0,t.w5)((()=>[(0,t.Uk)("客户借货")])),_:1}),(0,t.Wm)(U,{label:2,size:"large"},{default:(0,t.w5)((()=>[(0,t.Uk)("市场还货")])),_:1}),(0,t.Wm)(U,{label:3,size:"large"},{default:(0,t.w5)((()=>[(0,t.Uk)("销售出库")])),_:1})])),_:1},8,["modelValue","onChange"]),(0,t.Wm)(x,{class:"front-form",model:e.outboundForm,ref:"outboundRef",rules:e.outboundOrderRules,"label-width":"120px"},{default:(0,t.w5)((()=>[e.outboundForm.outboundShow1?((0,t.wg)(),(0,t.j4)(V,{key:0,class:"front-input",label:"出借客户",required:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(z,{modelValue:e.outboundForm.clientId,"onUpdate:modelValue":l[1]||(l[1]=l=>e.outboundForm.clientId=l),placeholder:"请选择",prop:"clientId"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.clientList,(e=>((0,t.wg)(),(0,t.j4)(C,{key:e.id,label:e.userName,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})):(0,t.kq)("",!0),e.outboundForm.outboundShow1?((0,t.wg)(),(0,t.j4)(V,{key:1,class:"front-input",label:"出借天数",required:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(D,{modelValue:e.outboundForm.validDate,"onUpdate:modelValue":l[2]||(l[2]=l=>e.outboundForm.validDate=l)},null,8,["modelValue"])])),_:1})):(0,t.kq)("",!0),e.outboundForm.outboundShow2?((0,t.wg)(),(0,t.j4)(V,{key:2,class:"front-input",label:"还货商户",required:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(z,{modelValue:e.outboundForm.clientId,"onUpdate:modelValue":l[3]||(l[3]=l=>e.outboundForm.clientId=l),placeholder:"请选择",prop:"clientId"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.clientList,(e=>((0,t.wg)(),(0,t.j4)(C,{key:e.id,label:e.userName,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})):(0,t.kq)("",!0),e.outboundForm.outboundShow3?((0,t.wg)(),(0,t.j4)(V,{key:3,class:"front-input",label:"售出客户",required:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(z,{modelValue:e.outboundForm.clientId,"onUpdate:modelValue":l[4]||(l[4]=l=>e.outboundForm.clientId=l),placeholder:"请选择",prop:"clientId"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.clientList,(e=>((0,t.wg)(),(0,t.j4)(C,{key:e.id,label:e.userName,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})):(0,t.kq)("",!0),e.outboundForm.outboundShow3?((0,t.wg)(),(0,t.j4)(V,{key:4,class:"front-input",label:"结算周期",required:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(D,{modelValue:e.input1,"onUpdate:modelValue":l[5]||(l[5]=l=>e.input1=l)},{prepend:(0,t.w5)((()=>[(0,t.Uk)("售后")])),_:1},8,["modelValue"])])),_:1})):(0,t.kq)("",!0),e.outboundForm.outboundShow3?((0,t.wg)(),(0,t.j4)(V,{key:5,class:"front-input",label:"销售价计算方式"},{default:(0,t.w5)((()=>[(0,t.Wm)(z,{modelValue:e.outboundForm.lendCustom,"onUpdate:modelValue":l[6]||(l[6]=l=>e.outboundForm.lendCustom=l),placeholder:"请选择"},{default:(0,t.w5)((()=>[(0,t.Wm)(C,{label:"启用",value:"shanghai"}),(0,t.Wm)(C,{label:"停用",value:"beijing"})])),_:1},8,["modelValue"])])),_:1})):(0,t.kq)("",!0),e.outboundForm.outboundShow3?((0,t.wg)(),(0,t.j4)(V,{key:6,class:"front-input",label:"百分比"},{default:(0,t.w5)((()=>[(0,t.Wm)(D,{modelValue:e.input1,"onUpdate:modelValue":l[7]||(l[7]=l=>e.input1=l)},null,8,["modelValue"])])),_:1})):(0,t.kq)("",!0)])),_:1},8,["model","rules"])]),(0,t._)("div",n,[(0,t._)("div",s,[e.isvideo?((0,t.wg)(),(0,t.iD)("video",m,null,512)):(0,t.kq)("",!0),(0,t._)("canvas",p,null,512)]),(0,t._)("div",c,[(0,t.Wm)(I,{action:"http://47.106.116.146:8080/common/uploadImage",class:"upload",headers:{Authorization:e.token},"show-file-list":!1,accept:".png,.jpg,.jpeg,.webp",style:{display:"inline-block"},name:e.file,"on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove,"on-error":i.log(e.error),"on-success":e.handleUpload},{default:(0,t.w5)((()=>[(0,t.Wm)(F,{onClick:e.uploadImg,style:{color:"#1890ff"}},{default:(0,t.w5)((()=>[(0,t.Uk)("上传")])),_:1},8,["onClick"])])),_:1},8,["headers","name","on-preview","on-remove","on-error","on-success"]),(0,t.Wm)(F,{onClick:e.takePhoto,style:{color:"#1890ff","margin-left":"10px"}},{default:(0,t.w5)((()=>[(0,t.Uk)("拍照")])),_:1},8,["onClick"]),(0,t.Wm)(F,{onClick:e.triggerCamera,style:{color:"#1890ff"}},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.cameraActive?"关闭摄像头":"打开摄像头"),1)])),_:1},8,["onClick"])])])]),(0,t._)("div",h,[(0,t._)("div",w,[(0,t.Wm)(x,null,{default:(0,t.w5)((()=>[(0,t.Wm)(V,{label:"扫描/输入条码",width:"200",style:{width:"400px","margin-left":"40px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(D,{modelValue:e.barcode,"onUpdate:modelValue":l[8]||(l[8]=l=>e.barcode=l)},null,8,["modelValue"])])),_:1})])),_:1})]),(0,t._)("div",b,[(0,t.Wm)(F,{type:"primary",onClick:e.onSubmit},{default:(0,t.w5)((()=>[(0,t.Uk)("操作出库")])),_:1},8,["onClick"]),(0,t.Wm)(F,{type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("导出明细")])),_:1}),(0,t.Wm)(F,{type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("打印明细")])),_:1})]),(0,t.Wm)(E,{data:e.tableData(),border:"",style:{width:"100%"},"max-height":"320"},{empty:(0,t.w5)((()=>[g])),default:(0,t.w5)((()=>[(0,t.Wm)(H,{label:"货品图片",width:"90"},{default:(0,t.w5)((l=>[(0,t.Wm)(j,{src:"http://47.106.116.146:8080/profile"+l.row.imageUrl,fit:"contain",style:{"max-height":"50px","max-width":"30px"},"preview-teleported":!0,lazy:!0,"preview-src-list":e.imgPreview,onClick:a=>e.previewSrcList(l.row.imageUrl)},null,8,["src","preview-src-list","onClick"])])),_:1}),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.outboundJadeDataColumn.data,(e=>((0,t.wg)(),(0,t.j4)(H,{prop:e.prop,"min-width":e.minWidth,width:e.width,"max-width":e.maxWidth,label:e.label},null,8,["prop","min-width","width","max-width","label"])))),256)),(0,t.Wm)(H,{width:"100px"},{header:(0,t.w5)((()=>[(0,t.Wm)(q,{placement:"bottom",trigger:"click"},{reference:(0,t.w5)((()=>[(0,t.Wm)(F,{size:"small"},{default:(0,t.w5)((()=>[(0,t.Uk)("显示设置")])),_:1})])),default:(0,t.w5)((()=>[(0,t.Wm)(P,{modelValue:e.selectedFilters.data,"onUpdate:modelValue":l[9]||(l[9]=l=>e.selectedFilters.data=l)},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.tableFilter.data,(l=>((0,t.wg)(),(0,t.j4)(T,{label:l.label,onChange:e.filterColumns,disabled:l.isdisabled},null,8,["label","onChange","disabled"])))),256))])),_:1},8,["modelValue"])])),_:1})])),default:(0,t.w5)((()=>[(0,t.Wm)(F,{link:"",type:"primary",size:"small"},{default:(0,t.w5)((()=>[(0,t.Uk)("查看明细")])),_:1}),(0,t.Wm)(F,{link:"",type:"primary",size:"small"},{default:(0,t.w5)((()=>[(0,t.Uk)("编辑备注")])),_:1}),(0,t.Wm)(F,{link:"",type:"primary",size:"small"},{default:(0,t.w5)((()=>[(0,t.Uk)("删除")])),_:1})])),_:1})])),_:1},8,["data"]),(0,t._)("div",f,[(0,t.Wm)(O,{"current-page":e.data.page,"onUpdate:currentPage":l[10]||(l[10]=l=>e.data.page=l),"page-size":e.data.limit,"onUpdate:pageSize":l[11]||(l[11]=l=>e.data.limit=l),layout:"prev, pager, next ,total,sizes",total:e.data.total,onCurrentChange:e.handleCurrentChange,onSizeChange:e.handleSizeChange},null,8,["current-page","page-size","total","onCurrentChange","onSizeChange"])])]),(0,t._)("div",v,[(0,t.Wm)(B,{modelValue:e.dialogVisibleDetails,"onUpdate:modelValue":l[12]||(l[12]=l=>e.dialogVisibleDetails=l)},{default:(0,t.w5)((()=>[(0,t.Wm)(R,{border:"",size:"large",direction:"vertical",title:"排班基本信息"},{default:(0,t.w5)((()=>[(0,t.Wm)(Z,{label:"直播店铺"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.rowDetails.streamPlatform),1)])),_:1}),(0,t.Wm)(Z,{label:"代购费"},{default:(0,t.w5)((()=>[(0,t.Wm)(L,{size:"small"},{default:(0,t.w5)((()=>[(0,t.Uk)("50")])),_:1})])),_:1}),(0,t.Wm)(Z,{label:"直播班次"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.rowDetails.streamShift),1)])),_:1}),(0,t.Wm)(Z,{label:"播货开始时间"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.rowDetails.startTime),1)])),_:1}),(0,t.Wm)(Z,{label:"播货结束时间"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.rowDetails.endTime),1)])),_:1}),(0,t.Wm)(Z,{label:"扣点比例"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.rowDetails.deductionPoints),1)])),_:1}),(0,t.Wm)(Z,{label:"添加时间"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.rowDetails.createTime),1)])),_:1}),(0,t.Wm)(Z,{label:"添加人"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.rowDetails.createBy),1)])),_:1}),(0,t.Wm)(Z,{label:"修改时间"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.rowDetails.updateTime),1)])),_:1}),(0,t.Wm)(Z,{label:"修改人"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.rowDetails.updateBy),1)])),_:1})])),_:1}),(0,t.Wm)(R,{border:"",size:"large",direction:"vertical",title:"直播人员信息",style:{"margin-top":"50px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(Z,{label:"售前客服"},{default:(0,t.w5)((()=>[(0,t.Wm)(L,{size:"small"},{default:(0,t.w5)((()=>[(0,t.Uk)("张三")])),_:1})])),_:1}),(0,t.Wm)(Z,{label:"直播助理"},{default:(0,t.w5)((()=>[(0,t.Wm)(L,{size:"small"},{default:(0,t.w5)((()=>[(0,t.Uk)("张三")])),_:1})])),_:1}),(0,t.Wm)(Z,{label:"场控"},{default:(0,t.w5)((()=>[(0,t.Wm)(L,{size:"small"},{default:(0,t.w5)((()=>[(0,t.Uk)("张三")])),_:1})])),_:1}),(0,t.Wm)(Z,{label:"主播"},{default:(0,t.w5)((()=>[(0,t.Wm)(L,{size:"small"},{default:(0,t.w5)((()=>[(0,t.Uk)("张三")])),_:1})])),_:1}),(0,t.Wm)(Z,{label:"其他人员"},{default:(0,t.w5)((()=>[(0,t.Wm)(L,{size:"small"},{default:(0,t.w5)((()=>[(0,t.Uk)("张三")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(B,{modelValue:e.dialogVisibleResult,"onUpdate:modelValue":l[13]||(l[13]=l=>e.dialogVisibleResult=l),title:"检测结果","close-on-press-escape":!1,"close-on-click-modal":!1,style:{width:"350px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(E,{data:e.imageUrlList,border:"",onSelectionChange:e.handleSelectionChange},{default:(0,t.w5)((()=>[(0,t.Wm)(H,{type:"selection",width:"40"}),(0,t.Wm)(H,{label:"出库对象",prop:"url",width:"120"},{default:(0,t.w5)((l=>[(0,t.Wm)(j,{src:"http://47.106.116.146:8080/profile"+l.row.url,alt:"Photo",fit:"contain",style:{"max-height":"120px","max-width":"70px"},"preview-teleported":!0,lazy:!0,"preview-src-list":e.imgPreview,onClick:a=>e.previewSrcList(l.row.url)},null,8,["src","preview-src-list","onClick"])])),_:1}),(0,t.Wm)(H,{label:"库存对比",prop:"matchUrl"},{default:(0,t.w5)((l=>[(0,t.Wm)(j,{src:"http://47.106.116.146:8080/profile"+l.row.matchUrl,alt:"Photo",fit:"contain",style:{"max-height":"120px","max-width":"70px"},"preview-teleported":!0,lazy:!0,"preview-src-list":e.imgPreview,onClick:a=>e.previewSrcList(l.row.matchUrl)},{error:(0,t.w5)((()=>[(0,t._)("i",k,(0,o.zw)(e.match_controll),1)])),_:2},1032,["src","preview-src-list","onClick"])])),_:1})])),_:1},8,["data","onSelectionChange"]),(0,t.Wm)(F,{type:"primary",style:{"margin-top":"15px"},onClick:e.ensureJade},{default:(0,t.w5)((()=>[(0,t.Uk)("确认")])),_:1},8,["onClick"]),_])),_:1},8,["modelValue"])])],64)}a(7658);var y=a(4870),U=a(7178),S=a(1836),C=a(2748),z=a(5541),V=a(4161),D=a(5941),x=(0,t.aZ)({name:"HomeView",components:{Plus:C.v37},setup(){const e=(0,y.iH)(null),l=(0,y.iH)(null),a=(0,y.iH)(null),o=(0,y.iH)(!1),i=(0,y.iH)(null),d=(0,y.iH)(!1),u=(0,y.iH)("识别中"),r=(0,y.iH)(!0),n=(0,y.iH)(!1),s=(0,y.iH)(""),m=(0,y.iH)([]),p=(0,y.iH)([]),c=(0,y.iH)(""),h=(0,y.iH)(!1),w=(0,y.iH)([]),b=(0,y.iH)([]),g=(0,y.iH)([]),f=(0,y.qj)({clientId:[{required:!0,message:"出库客户不能为空",trigger:"change"}]}),v=(0,y.qj)({orderCode:"",jadeCode:"",clientId:"",validDate:"",outboundType:3,outboundShow1:!1,outboundShow2:!1,outboundShow3:!0,deptId:"1"}),k=(0,y.qj)({data:[]}),_=(0,y.qj)({data:[]}),W=(0,y.qj)({data:[{label:"货品编码",prop:"jadeCode",width:"200",isdisabled:!0,isSelected:!0},{label:"入库单单号",prop:"orderCode",width:"200",isdisabled:!0,isSelected:!0},{label:"数量",prop:"jadeWeight",width:"60",isSelected:!0},{label:"成本价",prop:"costPrice",width:"60",isSelected:!0},{label:"标签价",prop:"sellingPrice",Width:"60",isSelected:!1},{label:"供应商",prop:"supplierName",width:"70",isSelected:!0},{label:"货品状态",prop:"inventoryStatus",width:"70",isSelected:!0},{label:"客户名字",prop:"clientName",width:"70",isSelected:!1},{label:"入库仓库",prop:"warehouseId",width:"70",isSelected:!1},{label:"入库类型",prop:"inboundTypeName",width:"90",isdisabled:!0,isSelected:!0},{label:"入库人员",prop:"inboundPeople",width:"90",isdisabled:!0,isSelected:!0},{label:"入库时间",prop:"createTime",minWidth:"100",isdisabled:!0,isSelected:!0},{label:"备注",prop:"remark",minWidth:"80",maxWidth:"80",isSelected:!0},{label:"测试1",prop:"test1",minWidth:"80",maxWidth:"80",isSelected:!1},{label:"测试2",prop:"test2",minWidth:"80",maxWidth:"80",isSelected:!1}]});(0,t.wF)((()=>{s.value=(0,S.LP)(),(0,z.lE)().then((e=>{m.value=e.rows})),(0,z.OE)().then((e=>{v.orderCode=e}))})),(0,t.bv)((()=>{W.data.forEach((function(e,l){e.isSelected&&(_.data.push(e.label),k.data.push(e))}))}));const C=()=>{let e=[];W.data.forEach((l=>{_.data.forEach((a=>{l.label==a&&e.push(l)}))})),k.data=e},x=(0,y.qj)({data:{page:1,limit:10,total:g.value.length}}),F=()=>g.value,I=e=>{x.page=e},j=e=>{x.limit=e},H=()=>{const e=l.value,t=a.value;if(o.value){if(e)try{const l=t.getContext("2d"),a=window.devicePixelRatio||1;t.width=1200*a,t.height=900*a,l.scale(a,a),l.fillStyle="red",l.drawImage(e,0,0,t.width,t.height),t.toBlob((e=>{const l=new FormData;l.append("file",e,"image.png"),V.Z.post("http://47.106.116.146:8080/common/uploadImage",l,{headers:{"Content-Type":"multipart/form-data",Authorization:s.value}}).then((e=>{(0,z.Bc)({image_path:e.data.url.slice(34)}).then((e=>{for(var l in e.result)p.value.push({imageId:l,imageUrl:e.result[l]});let a=p.value.map((e=>e.imageId));(0,z.B7)({data:p.value}),(0,z.iF)(a).then((e=>{D.log(e)})),h.value=!0}))})).catch((e=>{D.error(e)}))}))}catch(i){D.log(i),U.z8.error("摄像头拍照失败")}}else U.z8.error("请先打开摄像头")},T=async()=>{o.value?(i.value.getTracks().forEach((e=>e.stop())),l.value.srcObject=null,o.value=!1):navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({video:!0}).then((e=>{i.value=e,l.value.srcObject=e,o.value=!0})).catch((e=>{D.log(e),U.z8.error("获取摄像头失败")})):U.z8.error("获取摄像头失败，请检查是否已连接摄像头")},P=e=>{e.forEach((e=>{D.log(e.details),b.value.push(e.details)}))},q=()=>{try{g.value=b.value,b.value=[],p.value=[],h.value=!1}catch{U.z8.error("请检测完成后再勾选")}},E=e=>{(0,z.Bc)({image_path:e.url.slice(34)}).then((e=>{for(var l in e.result)p.value.push({imageId:l,imageUrl:e.result[l]});let a=p.value.map((e=>e.imageId));(0,z.B7)({data:p.value}),(0,z.iF)({imageIds:a}).then((e=>{p.value=p.value.map((l=>{const a=l.imageId,t=e.match_result[a];return{...l,best_match:t}})),p.value.forEach((e=>{(0,z.Yp)(e.best_match).then((l=>{l.rows[0]?(e.matchUrl=l.rows[0].imageUrl,e.details=l.rows[0]):e.matchUrl=!1}))})),D.log(p.value)})),h.value=!0}))},O=e=>{w.value=[],w.value.push("http://47.106.116.146:8080/profile"+e)},Z=e=>{D.log(e),v.outboundShow1=v.outboundShow2=v.outboundShow3=!1,1==e?v.outboundShow1=!0:2==e?v.outboundShow2=!0:v.outboundShow3=!0},L=()=>v.outboundShow1?1:v.outboundShow2?2:3,R=()=>{0!=g.value.length?e.value.validate().then((()=>{g.value.forEach((e=>{(0,z.Sp)({id:e.id,status:L()})})),(0,z.eN)(v).then((e=>{U.z8.success("出库成功"),g.value=[]}))})).catch((e=>{U.z8.error("请正确填写出库信息")})):U.z8.error("请先选择出库货品")};return{outboundJadeInfoData:g,token:s,imgPreview:w,imageUrlList:p,tempData:b,clientList:m,outboundForm:v,tableFilter:W,outboundJadeDataColumn:k,selectedFilters:_,state:x,outboundOrderRules:f,outboundRef:e,match_controll:u,videoElement:l,canvasElement:a,isvideo:r,cameraActive:o,videoStream:i,dialogVisibleImg:n,dialogImageUrl:c,dialogVisibleDetails:d,dialogVisibleResult:h,tableData:F,handleCurrentChange:I,changeOutboundType:Z,handleSizeChange:j,filterColumns:C,handleSelectionChange:P,ensureJade:q,triggerCamera:T,handleUpload:E,previewSrcList:O,takePhoto:H,onSubmit:R,getStatus:L,...(0,y.BK)(x)}}}),F=a(89);const I=(0,F.Z)(x,[["render",W],["__scopeId","data-v-170b274a"]]);var j=I}}]);
//# sourceMappingURL=128.e0856f33.js.map